<Gauge Name="GPS Gauge" Version="1.8">

<Size X="800" Y="670" />

<Update>

(G:Var9) 0 == if{  1 (&gt;G:Var1)
                  -1 (&gt;G:Var2)
                  -1 (&gt;L:GPS1 Wpt Sel Index, number)
                  -1 (&gt;L:GPS1 Nrs Sel Arpt Index, number)
                  -1 (&gt;L:GPS1 Nrs Sel VOR Index, number)
                  -1 (&gt;L:GPS1 Nrs Sel NDB Index, number)
                  -1 (&gt;L:GPS1 Nrs Sel Int Index, number)
                  -1 (&gt;L:GPS1 Nrs Sel Air Index, number)
                  -1 (&gt;L:GPS1 Nrs Sel Index, number)
                     (C:fs9gps:FlightPlanWaypointDistanceRemaining, meters) 1852 / (&gt;L:GPS1 Flight Distance, nmiles) 
                   1 (&gt;L:GPS1 Nrs Page Number, number)
                   1 (&gt;L:GPS1 Nrs Arpt Page Number, number)
                   1 (&gt;L:GPS1 Nrs VOR Page Number, number)
                   1 (&gt;L:GPS1 Nrs NDB Page Number, number)
                   1 (&gt;L:GPS1 Nrs Int Page Number, number)
                   1 (&gt;L:GPS1 Nrs Air Page Number, number)
                   3 (&gt;L:GPS1 Pages Retrieved, number)
                  10 (&gt;L:GPS1 Lines per Page, number)
                   1 (&gt;L:GPS1 Wpt Page Number, number)
                 360 (&gt;L:GPS1 CentreX, number)
                 460 (&gt;L:GPS1 CentreY, number)
                 172 (&gt;L:GPS1 APP CentreX, number)
                 190 (&gt;L:GPS1 APP CentreY, number)
                   2 (&gt;L:GPS1 Linewidth, number)
                   2 (&gt;L:GPS1 APP Linewidth, number)
                  10 (&gt;L:GPS1 MAP Range, number)
                  15 (&gt;L:GPS1 APP Range, number)
                   0 (&gt;L:GPS1 MAP Display TCAS, bool)
                   0 (&gt;L:GPS1 APP Display Wpt, bool)
                     (A:Plane Altitude, feet) (&gt;L:GPS1 Last Altitude, number)

                   1 (&gt;G:Var9) }

<!--
===============================================================================
*                                                                             *
*                   Radio Height                                              *
*                                                                             *
===============================================================================
 -->

(A:Sim on ground, bool) if{ (G:Var7) 0 ==
                        if{ (A:Radio Height, feet) (&gt;L:GPS1 Radio Height Correction, feet)
                            1 (&gt;G:Var7) } }
 
<!--
===============================================================================
*                                                                             *
*                   Destination                                               *
*                                                                             *
===============================================================================
 -->

(G:Var1) 1 == if{ (C:fs9gps:FlightPlanWaypointsNumber, number) 0 &gt;
              if{ (C:fs9gps:FlightPlanWaypointsNumber, number) -- (&gt;C:fs9gps:FlightPlanWaypointIndex, number)
                  (C:fs9gps:FlightPlanWaypointICAO, string) (&gt;C:fs9gps:WaypointAirportICAO, string)
                  (C:fs9gps:FlightPlanWaypointICAO, string) (&gt;C:fs9gps:FacilityICAO, string)
                  (C:fs9gps:FlightPlanWaypointICAO, string) (&gt;C:fs9gps:IcaoSearchInitialICAO)
                  (C:fs9gps:FlightPlanWaypointICAO, string) (&gt;C:fs9gps:NameSearchInitialICAO)
                  (C:fs9gps:FacilityMagneticVariation, degrees) s0 180 &gt; if{ l0 360 - s0 } l0 /-/ (&gt;L:Magvar Destination, degrees) } }

0 (&gt;L:GPS1 Display Approach Buttons, number)
(G:Var1) 1 ==  if{ (L:GPS1 APP Selected, bool)
               if{ 2 (&gt;L:GPS1 Display Approach Buttons, number) }
              els{ 1 (&gt;L:GPS1 Display Approach Buttons, number) } }

<!--
===============================================================================
*                                                                             *
*                   Approach Facility                                         *
*                                                                             *
===============================================================================
 -->

(A:GPS is Approach Active, bool) if{ (C:fs9gps:FlightPlanActiveWaypoint, number) 0 &gt;=
                                 if{ (C:fs9gps:FlightPlanWaypointIndex) s0
                                     (C:fs9gps:FlightPlanActiveWaypoint, number) (&gt;C:fs9gps:FlightPlanWaypointIndex)
                                     (A:Plane Latitude, degrees) (&gt;C:fs9gps:GeoCalcLatitude1, degrees)
                                     (A:Plane Longitude, degrees) (&gt;C:fs9gps:GeoCalcLongitude1, degrees)
                                     (C:fs9gps:FlightPlanWaypointICAO, string) (&gt;C:fs9gps:FacilityICAO, string)
                                     (C:fs9gps:FacilityLatitude, degrees) (&gt;C:fs9gps:GeoCalcLatitude2, degrees)
                                     (C:fs9gps:FacilityLongitude, degrees) (&gt;C:fs9gps:GeoCalcLongitude2, degrees)
                                  l0 (&gt;C:fs9gps:FlightPlanWaypointIndex) } }

<!--
===============================================================================
*                                                                             *
*                   Auto Tune VORs                                            *
*                                                                             *
===============================================================================
 -->

(L:GPS1 Auto VOR, bool) if{ 0 (&gt;C:fs9gps:NearestVorCurrentLine, number)
                              (C:fs9gps:NearestVORCurrentFrequency, Mhz) 0 &gt; if{

(C:fs9gps:NearestVORCurrentFrequency, Mhz) 100 - 100 * near s0
l0 1000 / flr 4096 * s1
l0 1000 / flr 1000 * l0 - /-/ s2 100 / flr 256 * l1 + s1
l2 100 /  flr 100 *  l2 - /-/ s2 10 /  flr 16 * l1 + s1
l2 10 /   flr 10 *   l2 - /-/ l1 + s1
l1 (&gt;L:GPS1 BCD Frequency, Frequency BCD16)
(L:GPS1 BCD Frequency, Frequency BCD16) (&gt;K:NAV1_RADIO_SET) }

1 (&gt;C:fs9gps:NearestVORCurrentLine, number)

(C:fs9gps:NearestVORCurrentFrequency, Mhz) 0 &gt; if{

(C:fs9gps:NearestVORCurrentFrequency, Mhz) 100 - 100 * near s0
l0 1000 / flr 4096 * s1
l0 1000 / flr 1000 * l0 - /-/ s2 100 / flr 256 * l1 + s1
l2 100 /  flr 100 *  l2 - /-/ s2 10 /  flr 16 * l1 + s1
l2 10 /   flr 10 *   l2 - /-/ l1 + s1
l1 (&gt;L:GPS1 BCD Frequency, Frequency BCD16)
(L:GPS1 BCD Frequency, Frequency BCD16) (&gt;K:NAV2_RADIO_SET) }

}

<!--
===============================================================================
*                                                                             *
*                   Auto Tune NDBs                                            *
*                                                                             *
===============================================================================
 -->

(L:GPS1 Auto NDB, bool) if{ 0 (&gt;C:fs9gps:NearestNdbCurrentLine, number)
                            (C:fs9gps:NearestNdbCurrentFrequency, Mhz) 0 &gt; if{

(C:fs9gps:NearestNdbCurrentFrequency, hz) 1000 / near s0
l0 1000 / flr 4096 * s1
l0 1000 / flr 1000 * l0 - /-/ s2 100 / flr 256 * l1 + s1
l2 100 /  flr 100 *  l2 - /-/ s2 10 /  flr 16 * l1 + s1
l2 10 /   flr 10 *   l2 - /-/ l1 + s1
l1 (&gt;L:GPS1 BCD Frequency, Frequency BCD16)
(L:GPS1 BCD Frequency, Frequency BCD16) (&gt;K:ADF_SET) }
}

<!--
===============================================================================
*                                                                             *
*                   Calculate Flight Time                                     *
*                                                                             *
===============================================================================
 -->

(A:Sim on Ground, bool) if{ (L:GPS1 Flight Distance, nmiles) (A:Estimated Cruise Speed, feet per second) / 1.6878 * 0.5 + 3600 *
                                   (&gt;L:GPS1 Flight Seconds, seconds) }
                       els{ (A:GPS ETE, seconds) (&gt;L:GPS1 Flight Seconds, seconds) }

(L:GPS1 Flight Seconds, seconds) 3600 / flr s0 (&gt;L:GPS1 Flight Hours, number) l0 3600 * (L:GPS1 Flight Seconds, seconds) - /-/ 60 / near (&gt;L:GPS1 Flight Minutes, number)

<!--
===============================================================================
*                                                                             *
*                   Waypoints Page                                            *
*                                                                             *
===============================================================================
 -->

(C:fs9gps:FlightPlanIsActiveApproach, bool) 1 == if{ (C:fs9gps:FlightPlanApproachWaypointsNumber, number) ++ sp1 }
                                                els{ (C:fs9gps:FlightPlanWaypointsNumber, number) sp1 }

(L:GPS1 Lines per Page, number) -- s0 l1 l0 / s0 flr l0 ==
                      if{ l0 (&gt;L:GPS1 Wpt Total Pages, number) }
                     els{ (L:GPS1 Lines per Page, number) -- s0 l1 l0 / ceil (&gt;L:GPS1 Wpt Total Pages, number) }
(L:GPS1 Lines per Page, number) l1 == if{ 1 (&gt;L:GPS1 Wpt Total Pages, number) } }

<!--
===============================================================================
*                                                                             *
*                   Nearest Airport / VOR / NDB / Intersection                *
*                                                                             *
===============================================================================
 -->

(L:GPS1 Pages Retrieved, number) (L:GPS1 Lines per Page, number) * (L:GPS1 Max Items, number) &gt; if{

      0   (&gt;C:fs9gps:NearestAirportCurrentLatitude, degrees)
      0   (&gt;C:fs9gps:NearestAirportCurrentLongitude, degrees)
      1   (&gt;C:fs9gps:NearestAirportMaximumItems, number)
      1   (&gt;C:fs9gps:NearestAirportMaximumDistance, nmiles)
      0   (&gt;C:fs9gps:NearestVorCurrentLatitude, degrees)
      0   (&gt;C:fs9gps:NearestVorCurrentLongitude, degrees)
      1   (&gt;C:fs9gps:NearestVorMaximumItems, number)
      1   (&gt;C:fs9gps:NearestVorMaximumDistance, nmiles)
      0   (&gt;C:fs9gps:NearestNdbCurrentLatitude, degrees)
      0   (&gt;C:fs9gps:NearestNdbCurrentLongitude, degrees)
      1   (&gt;C:fs9gps:NearestNdbMaximumItems, number)
      1   (&gt;C:fs9gps:NearestNdbMaximumDistance, nmiles)
      0   (&gt;C:fs9gps:NearestIntersectionCurrentLatitude, degrees)
      0   (&gt;C:fs9gps:NearestIntersectionCurrentLongitude, degrees)
      1   (&gt;C:fs9gps:NearestIntersectionMaximumItems, number)
      1   (&gt;C:fs9gps:NearestIntersectionMaximumDistance, nmiles)
      0   (&gt;C:fs9gps:NearestAirspaceCurrentLatitude, degrees)
      0   (&gt;C:fs9gps:NearestAirspaceCurrentLongitude, degrees)
      1   (&gt;C:fs9gps:NearestAirspaceMaximumItems, number)
      1   (&gt;C:fs9gps:NearestAirspaceMaximumDistance, nmiles)
      0   (&gt;C:fs9gps:NearestAirspaceCurrentAltitude, meters)
      0   (&gt;C:fs9gps:NearestAirspaceTrueGroundTrack, degrees)
      0   (&gt;C:fs9gps:NearestAirspaceGroundSpeed, knots)
      2   (&gt;C:fs9gps:NearestAirspaceNearDistance, nmiles)
      200 (&gt;C:fs9gps:NearestAirspaceNearAltitude, feet)                      
      10  (&gt;C:fs9gps:NearestAirspaceAheadTime, minutes)
      0xFFFFFF (&gt;C:fs9gps:NearestAirspaceQuery) 

          (L:GPS1 Pages Retrieved, number) (L:GPS1 Lines per Page, number) *  (&gt;L:GPS1 Max Items, number) }


(L:GPS1 Pages Retrieved, number) (L:GPS1 Lines per Page, number) * s0 (&gt;L:GPS1 Max Items, number)

       (A:Plane Latitude, degrees)  (&gt;C:fs9gps:NearestAirportCurrentLatitude, degrees)
       (A:Plane Longitude, degrees) (&gt;C:fs9gps:NearestAirportCurrentLongitude, degrees)
l0     (&gt;C:fs9gps:NearestAirportMaximumItems, number)
5000   (&gt;C:fs9gps:NearestAirportMaximumDistance, nmiles)

       (A:Plane Latitude, degrees)  (&gt;C:fs9gps:NearestVorCurrentLatitude, degrees)
       (A:Plane Longitude, degrees) (&gt;C:fs9gps:NearestVorCurrentLongitude, degrees)
l0     (&gt;C:fs9gps:NearestVorMaximumItems, number)
5000   (&gt;C:fs9gps:NearestVorMaximumDistance, nmiles)

       (A:GPS Position Lat, radians) (&gt;C:fs9gps:NearestIntersectionCurrentLatitude, radians)
       (A:GPS Position Lon, radians) (&gt;C:fs9gps:NearestIntersectionCurrentLongitude, radians)
l0     (&gt;C:fs9gps:NearestIntersectionMaximumItems, enum)
5000   (&gt;C:fs9gps:NearestIntersectionMaximumDistance, nmiles)
255    (&gt;C:fs9gps:NearestIntersectionCurrentFilter, enum)

       (A:Plane Latitude, degrees)  (&gt;C:fs9gps:NearestNdbCurrentLatitude, degrees)
       (A:Plane Longitude, degrees) (&gt;C:fs9gps:NearestNdbCurrentLongitude, degrees)
l0     (&gt;C:fs9gps:NearestNdbMaximumItems, number)
5000   (&gt;C:fs9gps:NearestNdbMaximumDistance, nmiles)

       (A:Plane Latitude, degrees)        (&gt;C:fs9gps:NearestAirspaceCurrentLatitude, degrees)
       (A:Plane Longitude, degrees)       (&gt;C:fs9gps:NearestAirspaceCurrentLongitude, degrees)
       (A:GPS Position Alt, meters)       (&gt;C:fs9gps:NearestAirspaceCurrentAltitude, meters)
       (A:GPS Ground True Track, degrees) (&gt;C:fs9gps:NearestAirspaceTrueGroundTrack, degrees)
       (A:GPS Ground Speed, knots)        (&gt;C:fs9gps:NearestAirspaceGroundSpeed, knots)
       2                                  (&gt;C:fs9gps:NearestAirspaceNearDistance, nmiles)
       200                                (&gt;C:fs9gps:NearestAirspaceNearAltitude, feet)                      
       10                                 (&gt;C:fs9gps:NearestAirspaceAheadTime, minutes)
       0xFFFFFF                           (&gt;C:fs9gps:NearestAirspaceQuery) 
       l0                                 (&gt;C:fs9gps:NearestAirspaceMaximumItems, number)
       5000                               (&gt;C:fs9gps:NearestAirspaceMaximumDistance, nmiles)

(L:GPS1 Nearest Selected, number) 0 == if{ (C:fs9gps:NearestAirportItemsNumber, number)      (&gt;L:GPS1 Sel Items, number) }
(L:GPS1 Nearest Selected, number) 1 == if{ (C:fs9gps:NearestVorItemsNumber, number)          (&gt;L:GPS1 Sel Items, number) }
(L:GPS1 Nearest Selected, number) 2 == if{ (C:fs9gps:NearestNdbItemsNumber, number)          (&gt;L:GPS1 Sel Items, number) }
(L:GPS1 Nearest Selected, number) 3 == if{ (C:fs9gps:NearestIntersectionItemsNumber, number) (&gt;L:GPS1 Sel Items, number) } 
(L:GPS1 Nearest Selected, number) 4 == if{ (C:fs9gps:NearestAirspaceItemsNumber, number)     (&gt;L:GPS1 Sel Items, number) } 
(L:GPS1 Enter Direct to ICAO, bool)    if{ (C:fs9gps:IcaoSearchMatchedIcaosNumber, number)   (&gt;L:GPS1 Sel Items, number) }


<!--
===============================================================================
*                                                                             *
*                   Selected Waypoint                                         *
*                                                                             *
===============================================================================
 -->

(L:GPS1 Wpt Sel Index, number) 0 &gt;= if{
       (L:GPS1 Wpt Sel Index, number) (&gt;C:fs9gps:FlightPlanWaypointIndex, number)
       (C:fs9gps:FlightPlanWaypointType, number) 3 == if{ (C:fs9gps:FlightPlanWaypointICAO, string) (&gt;C:fs9gps:WaypointVorICAO, string) }
       (C:fs9gps:FlightPlanWaypointType, number) 4 == if{ (C:fs9gps:FlightPlanWaypointICAO, string) (&gt;C:fs9gps:WaypointNdbICAO, string) } }

<!--
===============================================================================
*                                                                             *
*                   TAWS Map Switch                                           *
*                                                                             *
===============================================================================
 -->

(L:GPS1 MAP Terrain, number) 2 == if{
(A:Plane Altitude, feet) (L:GPS1 Last Altitude, number) - abs 500 &gt;
                       if{ (A:Plane Altitude, feet) (&gt;L:GPS1 Last Altitude, number)
                           (L:GPS1 MAP Range, number) (&gt;G:Var4)
                           1 (&gt;G:Var6) } }


(G:var6) if{ 2699 (&gt;L:GPS1 MAP Range, number)
                           (G:Var5) ++ (&gt;G:Var5)
                           (G:Var5) 8 == if{ (G:Var4) (&gt;L:GPS1 MAP Range, number)
                                                    0 (&gt;G:Var5)
                                                    0 (&gt;G:Var6) } }

<!--
===============================================================================
*                                                                             *
*                   Radio Frequency                                           *
*                                                                             *
===============================================================================
 -->

(L:GPS1 APP Selected, bool) if{ 

(L:GPS1 ILS Frequency, mhz) 100 - 100 * near s0

l0 1000 / flr 4096 * s1
l0 1000 / flr 1000 * l0 - /-/ s2 100 / flr 256 * l1 + s1
l2 100 /  flr 100 *  l2 - /-/ s2 10 /  flr 16 * l1 + s1
l2 10 /   flr 10 *   l2 - /-/ l1 + s1
l1 (&gt;L:GPS1 ILS BCD Frequency, Frequency BCD16) }

<!--
===============================================================================
*                                                                             *
*                   Direct to Selection                                       *
*                                                                             *
===============================================================================
 -->

0 (&gt;G:Var8)
(G:Var1) 2 == (L:GPS1 Nearest Selected, number) 4 &lt; &amp;&amp; if{ 1 (&gt;G:Var8) }
(G:Var1) 0 == (C:fs9gps:FlightPlanIsActiveApproach, bool) ! &amp;&amp; if{ (L:GPS1 Wpt Sel Index, number) 0 &gt;=  if{ 1 (&gt;G:Var8) }
                                                                           (L:GPS1 Direct to, bool)                if{ 1 (&gt;G:Var8) } }
 }

<!--
===============================================================================
*                                                                             *
*                   Get Facility for ICAO Selection                           *
*                                                                             *
===============================================================================
 -->

(C:fs9gps:IcaoSearchMatchedIcaosNumber, number) 0 &gt; if{ 
              0 (&gt;C:fs9gps:IcaoSearchMatchIcao)
                (C:fs9gps:IcaoSearchCurrentIcao, string) (&gt;C:fs9gps:FacilityICAO) }

(L:GPS1 Enter Direct To Name, bool) if{ (C:fs9gps:NameSearchCurrentIcao, string) (&gt;C:fs9gps:FacilityIcao) }

0 (&gt;L:GPS1 Direct To Search, bool)
(L:GPS1 Enter Direct To ICAO, bool) if{ 1 (&gt;L:GPS1 Direct To Search, bool) }
(L:GPS1 Enter Direct To Name, bool) if{ 1 (&gt;L:GPS1 Direct To Search, bool) }

<!--
===============================================================================
*                                                                             *
*                   Button Visibility                                         *
*                                                                             *
===============================================================================
 -->


0 (&gt;L:GPS1 Button 5 Visibility, bool)
(G:Var1) 0 == if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) 1 == 
              if{ 1 (&gt;L:GPS1 Button 5 Visibility, bool) } }
(G:Var1) 2 == if{ 1 (&gt;L:GPS1 Button 5 Visibility, bool) }
(L:GPS1 Display Approach Buttons, number) 2 ==  if{ 1 (&gt;L:GPS1 Button 5 Visibility, bool) }

0 (&gt;L:GPS1 Button 6 Visibility, bool)
(G:Var1) 0 == if{ (L:GPS1 Wpt Page Number, number) 1 &gt;
              if{ 1 (&gt;L:GPS1 Button 6 Visibility, bool) } }

(G:Var1) 1 == if{ (L:GPS1 Display Approach Buttons, number) 2 ==
              if{ 1 (&gt;L:GPS1 Button 6 Visibility, bool) } }

(G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) 1 &gt;
              if{ 1 (&gt;L:GPS1 Button 6 Visibility, bool) } }

0 (&gt;L:GPS1 Button 7 Visibility, bool)
(G:Var1) 0 == if{ (L:GPS1 Wpt Total Pages, number) (L:GPS1 Wpt Page Number, number) &gt;
              if{ 1 (&gt;L:GPS1 Button 7 Visibility, bool) } }
(G:Var1) 1 == if{ 1 (&gt;L:GPS1 Button 7 Visibility, bool) }

(G:Var1) 2 == if{ (L:GPS1 Sel Items, number) (L:GPS1 Lines per Page, number) / ceil (L:GPS1 Nrs Page Number, number) &gt;  
              if{ 1 (&gt;L:GPS1 Button 7 Visibility, bool) } }

<!--
===============================================================================
*                                                                             *
*                   Transition Height Adjustment                              *
*                                                                             *
===============================================================================
 -->

(L:GPS1 Auto Transition, bool) if{ (C:fs9gps:FlightPlanWaypointApproachIndex, number) sp0
                                   (C:fs9gps:FlightPlanActiveApproachWaypoint, number) (&gt;C:fs9gps:FlightPlanWaypointApproachIndex, number) 
                                   (C:fs9gps:FlightPlanWaypointApproachAltitude, feet) 0 &gt;
                                               if{ (C:fs9gps:FlightPlanWaypointApproachAltitude, feet) (A:Autopilot Altitude Lock Var, feet) !=
                                               if{ (C:fs9gps:FlightPlanApproachgIsWaypointRunway, bool) 1 !=
                                               if{ (C:fs9gps:FlightPlanWaypointApproachAltitude, feet) (&gt;K:AP_ALT_VAR_SET_ENGLISH) } } }
                                   l0 (&gt;C:fs9gps:FlightPlanWaypointApproachIndex, number) }

</Update>

<!--
===============================================================================
*                                                                             *
*                   GPS                                                       *
*                                                                             *
===============================================================================
 -->

<Element>
<Position X="0" Y="0"/>
<Image Name="GPS Background.bmp" Bright="No" Transparent="No"/>
</Element>

<!--
===============================================================================
*                                                                             *
*                   Sub Panel                                                 *
*                                                                             *
===============================================================================
 -->

<Element>
 <Position X="37" Y="41"/>

<!--
===============================================================================
*                                                                             *
*                   Select Panel                                              *
*                                                                             *
===============================================================================
 -->

<!--  Select Flight Plan -->

<Element>
   <Position X="10" Y="5" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(G:Var1) 0 == </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="8" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray'    (G:Var1) 0 == ? )"
       BackgroundColor="%( '#20E000' 'Gray' (G:Var1) 0 == ? )" Bright="Yes">
      <String>FLT PLAN</String>
      </Text>
     </Element>

  </Element>

<!--  Select Approach -->

<Element>
   <Position X="130" Y="5" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(G:Var1) 1 == </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="4" Fixed="No" FontWeight="700" 
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray'    (G:Var1) 1 == ? )"
       BackgroundColor="%( '#20E000' 'Gray' (G:Var1) 1 == ? )" Bright="Yes">
      <String>APPR</String>
      </Text>
     </Element>
  </Element>

<!--  Select Nearests -->

<Element>
   <Position X="250" Y="5" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(G:Var1) 2 == </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="7" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray'    (G:Var1) 2 == ? )"
       BackgroundColor="%( '#20E000' 'Gray' (G:Var1) 2 == ? )" Bright="Yes">
      <String>NEAREST</String>
      </Text>
     </Element>

  </Element>


<!--  Select Map -->

<Element>
   <Position X="370" Y="5" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(G:Var1) 3 == </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="3" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray'    (G:Var1) 3 == ? )"
       BackgroundColor="%( '#20E000' 'Gray' (G:Var1) 3 == ? )" Bright="Yes">
      <String>MAP</String>
      </Text>
     </Element>
  </Element>

<!--  Autotune VOR -->

<Element>
   <Position X="490" Y="5" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Auto VOR, bool) </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="8" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 Auto VOR, bool) ? )"
       BackgroundColor="%( '#20E000' 'Gray' (L:GPS1 Auto VOR, bool) ? )" Bright="Yes">
      <String>AUTO VOR</String>
      </Text>
     </Element>
  </Element>

<!--  Autotune NDB -->

<Element>
   <Position X="610" Y="5" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Auto NDB, bool) </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="8" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray'    (L:GPS1 Auto NDB, bool) ? )"
       BackgroundColor="%( '#20E000' 'Gray' (L:GPS1 Auto NDB, bool) ? )" Bright="Yes">
      <String>AUTO NDB</String>
      </Text>
     </Element>
  </Element>

<!--
===============================================================================
*                                                                             *
*                   No Flight Plan                                            *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(A:GPS is Active Flight Plan, bool) ! (G:Var1) 2 &lt; &amp;&amp; </Visible>

<Element>
  <Position X="0" Y="200"/>
  <Text X="725" Y="48" Bright="Yes" Length="21" Font="Century Gothic"
   FontWeight="700" Color="#FFD300" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>NO ACTIVE FLIGHT PLAN</String>
  </Text>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Flight Plan and Approach Common Header  (1 & 2)           *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(G:Var1) 1 &lt;= </Visible>

<Element>
 <Visible>(A:GPS is Active Flight Plan, bool)</Visible>
 <Select>
  <Value>
   0 (&gt;C:fs9gps:FlightPlanWaypointIndex, number)
  </Value>
 </Select>

<Element>
  <Position X="290" Y="50"/>
  <Text X="200" Y="36" Bright="Yes" Length="11" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FLIGHT PLAN</String>
  </Text>
</Element>

<!--  Flight Plan Title -->

<Element>
  <Position X="510" Y="54"/>
  <Text X="200" Y="32" Bright="Yes" Length="20" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanTitle, string))%!20s!</String>
  </Text>
</Element>

<!--  Number of Waypoints -->

<Element>
  <Position X="10" Y="104"/>
  <Text X="190" Y="28" Bright="Yes" Length="16" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>No. OF WAYPOINTS:</String>
  </Text>
</Element>

<Element>
  <Position X="170" Y="102"/>
  <Text X="40" Y="32" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanIsActiveApproach, bool) if{ (C:fs9gps:FlightPlanApproachWaypointsNumber, number) ++ } els{ (A:GPS Flight Plan WP Count, number) } )%!3d!</String>
  </Text>
</Element>

<Element>
<Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) ! </Visible>
 <Element>
  <Position X="220" Y="102"/>
  <Text X="120" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanFlightPlanType, number))%{case}%{:1}VFR%{:2}IFR%{end} %((C:fs9gps:FlightPlanRouteType, number))%{case}%{:0}DIRECT%{:1}VOR%{:2}LOW ALT%{:3}HIGH ALT%{end</String>
  </Text>
 </Element>
</Element>

<Element>
<Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) </Visible>
 <Element>
  <Position X="220" Y="102"/>
  <Text X="160" Y="32" Bright="Yes" Length="16" Font="Century Gothic"
   FontWeight="700" Color="Yellow" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanApproachType, number))%{case}%{:0}UNKNOWN%{:1}VFR%{:2}HEL%{:3}TACAN%{:4}NDB%{:5}LORAN%{:6}RNAV%{:7}VOR%{:8}GPS%{:9}SDF%{:10}LDA%{:11}LOC%{:12}MLS%{:13}ILS%{end} APPROACH</String>
  </Text>
 </Element>
</Element>

<Element>
  <Position X="460" Y="104"/>
  <Text X="180" Y="28" Bright="Yes" Length="17" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>EST. FLIGHT TIME:</String>
  </Text>
</Element>

<Element>
  <Position X="590" Y="100"/>
  <Text X="160" Y="32" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Flight Hours, number))%!1d! Hrs %((L:GPS1 Flight Minutes, number))%!1d! mins</String>
  </Text>
</Element>

<!--  Flight Plan Origin -->

<Element>
<Visible>(A:GPS IS DIRECTTO FLIGHTPLAN, bool) ! </Visible>

<Element>
  <Position X="10" Y="77"/>
  <Text X="260" Y="32" Bright="Yes" Length="26" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanDepartureName, string) uc )%!26s!</String>
  </Text>
</Element>

<!--  Flight Plan Destination -->

<Element>
  <Position X="290" Y="79"/>
  <Text X="30" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>TO</String>
  </Text>
</Element>

<Element>
  <Position X="320" Y="77"/>
  <Text X="400" Y="32" Bright="Yes" Length="44" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanDestinationName, string) uc )%!.44s!</String>
  </Text>
</Element>

</Element>

<!--  Flight Plan Altitude -->

<Element>
  <Position X="10" Y="128"/>
  <Text X="170" Y="28" Bright="Yes" Length="16" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FLIGHT PLAN ALT:</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="126"/>
  <Text X="70" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanCruisingAltitude, meters) 3.28084 * )%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="220" Y="128"/>
  <Text X="30" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FT</String>
  </Text>
</Element>

<Element>
  <Position X="290" Y="128"/>
  <Text X="100" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DEST ALT:</String>
  </Text>
</Element>

<Element>
  <Position X="370" Y="126"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanDestinationAltitude, meters) 3.28084 * )%!1d!</String>
  </Text>
</Element>

<Element>
  <Position X="430" Y="128"/>
  <Text X="30" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FT</String>
  </Text>
</Element>

<!--  Total Distance -->

<Element>
<Visible> (A:GPS is Arrived, bool) ! </Visible>

<Element>
  <Position X="460" Y="128"/>
  <Text X="150" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>REM. DISTANCE:</String>
  </Text>
</Element>
</Element>


<Element>
<Visible>(A:GPS is Approach Active, bool) ! (A:GPS is Arrived, bool) ! &amp;&amp; </Visible>

<Element id="Remaining Distance Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302">
  <String>
   %(0 s1 s3 (C:fs9gps:FlightPlanWaypointsNumber, number) s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:FlightPlanWaypointIndex, number))
      %((C:fs9gps:FlightPlanWaypointRemainingDistance, nmiles) (C:fs9gps:FlightPlanWaypointDistance, nmiles) &gt; if{ (C:fs9gps:FlightPlanWaypointDistance, nmiles) s0 } els{ (C:fs9gps:FlightPlanWaypointRemainingDistance, nmiles) s0 } l0 l3 + s3 )
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
      %( l3 (&gt;L:GPS1 Remaining Distance, nmiles) )
  </String>
 </FormattedText>
</Element>

 <Element>
  <Position X="590" Y="126"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Remaining Distance, nmiles))%!1d!</String>
  </Text>
 </Element>

 <Element>
  <Position X="650" Y="128"/>
  <Text X="25" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>nm</String>
  </Text>
 </Element>

</Element>

<Element id="Approach Distance Loop">
  <FormattedText X="725" Y="302" MultiLine="Yes">
  <String>
   %((A:GPS is Approach Active, bool))%{if}
   %((C:fs9gps:FlightPlanApproachWaypointsNumber, number) s2 0 &gt; )
   %{if}
   %( 0 s1 s3 1 (&gt;L:GPS1 Arrive Flag, bool) )
   %{loop}
      %(l1 (&gt;C:fs9gps:FlightPlanWaypointApproachIndex, number))
      %((C:fs9gps:FlightPlanWaypointApproachMode, number) 3 &lt; if{ (C:fs9gps:FlightPlanWaypointApproachRemainingDistance, nmiles) l3 + s3 } )
      %((C:fs9gps:FlightPlanWaypointApproachMode, number) 3 ==   if{ (C:fs9gps:FlightPlanWaypointApproachTarget, feet) 0 &gt; if{ (C:fs9gps:FlightPlanWaypointApproachTarget, feet) s4 } } )
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
   %{end}
   %( l3 (&gt;L:GPS1 Remaining Distance, nmiles))
  </String>
 </FormattedText>
</Element>

<Element>
<Visible>(A:GPS is Approach Active, bool) </Visible>
 <Element>
  <Position X="590" Y="126"/>
  <Text X="110" Y="32" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%( l3 )%!4.1f! nm</String>
  </Text>
 </Element>
</Element>

<!--  Next Waypoint -->

<Element>
  <Position X="10" Y="152"/>
  <Text X="150" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>NEXT WAYPOINT:</String>
  </Text>
</Element>

<Element>
  <Position X="158" Y="150"/>
  <Text X="120" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:GPS WP Next ID, string))%!.10s!</String>
  </Text>
</Element>

<!--  Distance -->

<Element>
  <Position X="290" Y="152"/>
  <Text X="90" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DISTANCE:</String>
  </Text>
</Element>

<Element>
  <Position X="370" Y="150"/>
  <Text X="70" Y="32" Bright="Yes" Length="6" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:GPS WP Distance, meters) 1852 / )%!4.1f!</String>
  </Text>
</Element>

<Element>
  <Position X="430" Y="152"/>
  <Text X="30" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>nm</String>
  </Text>
</Element>


<!--  Direction -->

<Element>
  <Position X="460" Y="152"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DIRECTION:</String>
  </Text>
</Element>

<Element>
  <Position X="580" Y="150"/>
  <Text X="50" Y="32" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((A:GPS WP Bearing, degrees))%!03d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="622" Y="158"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>M</String>
  </Text>
</Element>


<!--  ETE at Waypoint -->

<Element>
<Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) ! </Visible>

<Element>
  <Position X="10" Y="179"/>
  <Text X="230" Y="28" Bright="Yes" Length="22" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>TIME TO NEXT WAYPOINT:</String>
  </Text>
</Element>

<Element>
  <Position X="220" Y="175"/>
  <Text X="160" Y="32" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:GPS WP ETE, hours) flr 100 %)%!1d! Hrs %((A:GPS WP ETE, minutes) flr 60 %)%!1d! Mins</String>
  </Text>
</Element>
</Element>

<!--  Approach Header -->

<Element>
<Visible>(G:Var1) 0 == (C:fs9gps:FlightPlanIsActiveApproach, bool) &amp;&amp; </Visible>

<Element>
  <Position X="10" Y="177"/>
  <Text X="100" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>APPROACH:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="175"/>
  <Text X="120" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportApproachName, string))%!.10s!</String>
  </Text>
</Element>

<Element>
  <Position X="230" Y="177"/>
  <Text X="120" Y="28" Bright="Yes" Length="11" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>TRANSITION:</String>
  </Text>
</Element>

<Element>
  <Position X="330" Y="175"/>
  <Text X="120" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Trans Index, number) (&gt;C:fs9gps:WaypointAirportApproachCurrentTransition, number) (C:fs9gps:WaypointAirportApproachTransitionName, string))%!6s!</String>
  </Text>
</Element>

<Element>
<Visible>(C:fs9gps:WaypointAirportApproachName, string) 0 3 ssub 'ILS' scmp 0 == </Visible>

<Element>
  <Position X="420" Y="177"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FREQUENCY:</String>
  </Text>
</Element>

<Element>
  <Position X="520" Y="175"/>
  <Text X="120" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 ILS Frequency, Mhz))%!3.3f!</String>
  </Text>
</Element>

<Element>
  <Position X="600" Y="175"/>
  <Text X="120" Y="32" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Red" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 ILS Frequency, Mhz) (A:Nav Active Frequency:1, mhz) != if{ 'NOT TUNED' } els{ ' ' } )%!9s!</String>
  </Text>
</Element>

<Element>
<Visible>(L:GPS1 ILS Frequency, Mhz) (A:Nav Active Frequency:1, mhz) == </Visible>
 <Element>
  <Position X="600" Y="175"/>
  <Text X="120" Y="32" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="%('#20E000' '#FFD300' (A:Nav has Nav:1, bool) ?)" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:Nav has Nav:1, bool) if{ 'SIGNAL' } els{ 'NO SIGNAL' } )%!9s!</String>
  </Text>
</Element>
</Element>

</Element>

</Element>


</Element>

<!--
===============================================================================
*                                                                             *
*                   Flight Plan  (0)                                          *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(G:Var1) 0 == (A:GPS is Active Flight Plan, bool) &amp;&amp;</Visible>

<Element>
  <Position X="0" Y="206"/>
  <Text X="725" Y="32" Bright="Yes" Length="17" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanIsActiveApproach, bool) if{ 'APPROACH' } els{ '  FLIGHT' } )%!8s! SEGMENTS</String>
  </Text>
</Element>

<Element>
  <Position X="560" Y="206"/>

 <Element>
  <Position X="0" Y="2"/>
  <Text X="50" Y="28" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>PAGE</String>
  </Text>
 </Element>

 <Element>
  <Position X="40" Y="0"/>
  <Text X="30" Y="32" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Wpt Page Number, number))%!2d!</String>
  </Text>
 </Element>

 <Element>
  <Position X="80" Y="2"/>
  <Text X="30" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>OF</String>
  </Text>
 </Element>

 <Element>
  <Position X="100" Y="0"/>
  <Text X="30" Y="32" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Wpt Total Pages, number))%!2d!</String>
  </Text>
 </Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Enroute Waypoint Loop                                     *
*                                                                             *
===============================================================================
 -->

<Element>
 <Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) ! </Visible>
 <Select>
  <Value>
   ' ' s0
   (C:fs9gps:FlightPlanRouteType, enum) 1 ==   if{ 'FREQ.' s0 }
   (C:fs9gps:FlightPlanRouteType, enum) 1 &gt; if{ 'JETWAY' s0 }
  </Value>
 </Select>

<Element id="Waypoint Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="26,58,130,245,355R,430R,510R,530,590,620,720R" Fixed="Yes">
  <String>\tNAME \tTYPE \t %( l0 )%!6s! \tBRG \tSEG \tTOTAL \tLATITUDE \tLONGITUDE</String>
  </FormattedText>
</Element>

<Element id="Waypoints Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,255,355R,430R,510R,530,542,620,640" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <Image Name="Current Segment.bmp" />
  <String>
   %((L:GPS1 Wpt Page Number, number) -- s1 (L:GPS1 Lines per Page, number) -- l1 * s1 (L:GPS1 Lines per Page, number) + (C:fs9gps:FlightPlanWaypointsNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:FlightPlanWaypointIndex, number))
      %((C:fs9gps:FlightPlanWaypointIndex, number) (C:fs9gps:FlightPlanActiveWaypoint, number) == )%{if}\{img3}%{else} \t %{end}
      %((L:GPS1 Wpt Sel Index, number) l1 == )%{if}\{img1} \{rev}%{else}\{nr}\{img2} %{end} \t
      %((C:fs9gps:FlightPlanWaypointIdent, string) )%!.5s!\t
      %((C:fs9gps:FlightPlanWaypointType, number))%{case}%{:0}NONE%{:1}AIRPORT     %{:2}INTERSECTION%{:3}VOR         %{:4}NDB         %{:5}USER        %{:6}ATC         %{end} \t
      %((C:fs9gps:FlightPlanRouteType, enum) 1 == )
       %{if}%((C:fs9gps:FlightPlanWaypointType, number) 3 == )
        %{if}%((C:fs9gps:FlightPlanWaypointFrequency, mhz))%!3.3f!%{end}
       %{if}%((C:fs9gps:FlightPlanWaypointType, number) 4 == )
        %{if}%((C:fs9gps:FlightPlanWaypointFrequency, Khz))%!3.1f!%{end}
       %{else}
       %((C:fs9gps:FlightPlanWaypointAirwayIdent, string))%!5s!%{end}%{end}
\t
      %( l1 0 &gt; )
      %{if}
      %((C:fs9gps:FlightPlanWaypointMagneticHeading, degrees))%!03d!&#176;\{dn}M\{md}
      %{end}
\t
      %( l1 0 &gt; )
      %{if}
      %((C:fs9gps:FlightPlanWaypointRemainingDistance, nmiles) (C:fs9gps:FlightPlanWaypointDistance, nmiles) &gt; if{ (C:fs9gps:FlightPlanWaypointDistance, nmiles) } els{ (C:fs9gps:FlightPlanWaypointRemainingDistance, nmiles) } )%!4d!nm
      %{end}
\t
      %((C:fs9gps:FlightPlanWaypointDistanceRemaining, meters) 1852 / )%!6d!nm \t
      %((C:fs9gps:FlightPlanWaypointLatitude, degrees) s3 0 &lt; )%{if}S%{else}N%{end}  %( l3 abs flr s0 )%!2d!&#176;%( l3 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;\t
      %((C:fs9gps:FlightPlanWaypointLongitude, degrees) s3 0 &lt;)%{if}W%{else}E%{end}  %( l3 abs flr s0 )%!3d!&#176;%( l3 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>


<!--
===============================================================================
*                                                                             *
*                   Approach Waypoint Loop                                    *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) </Visible>

<Element id="Approach Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="26,58,130,240,430R,485R,565R" Fixed="Yes">
  <String>\tNAME \tTYPE \tMODE \tALTITUDE \tCRS \tDIST</String>
  </FormattedText>
</Element>

<Element id="Approach Waypoints Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,240,430R,485R,565R" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <Image Name="Current Segment.bmp" />
  <String>
   %((L:GPS1 Wpt Page Number, number) -- s1 (L:GPS1 Lines per Page, number) 2 - l1 * s1 (L:GPS1 Lines per Page, number) -- l1 + (C:fs9gps:FlightPlanApproachWaypointsNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:FlightPlanWaypointApproachIndex, number) l1 0 == )
      %{if}
      \t%((L:GPS1 Wpt Sel Index, number) 0 == )%{if} \{img1} \{rev}%{else}\{nr} \{img2}%{end}\tORIGIN\tFEEDER\tENTRY\t
      %((A:Indicated Altitude, feet))%!5d!ft
\n
      %{end}
      %((C:fs9gps:FlightPlanWaypointApproachIndex, number) (C:fs9gps:FlightPlanActiveApproachWaypoint, number) == )%{if}\{img3}%{else}\t%{end}
      %((L:GPS1 Wpt Sel Index, number) -- l1 == )%{if} \{img1} \{rev}%{else}\{nr} \{img2}%{end}\t
      %((C:fs9gps:FlightPlanWaypointApproachName, string) )%!.5s!\t
      %((C:fs9gps:FlightPlanWaypointApproachMode, number))%{case}%{:0}NONE%{:1}TRANSITION%{:2}FINAL%{:3}MISSED%{end} \t
      %((C:fs9gps:FlightPlanWaypointApproachType, enum))%{case}%{:0}NONE%{:1}FIX%{:2}PR TURN LEFT%{:3}PR TURN RIGHT%{:4}DME ARC LEFT%{:5}DME ARC RIGHT%{:6}HOLD LEFT%{:7}HOLD RIGHT%{:8}%((C:fs9gps:FlightPlanWaypointApproachTarget, nmiles))%!0.1f!nm%{:9}ALTITUDE%{:10}MANUAL SEQ%{:11}VECTORS%{end}\t
      %((C:fs9gps:FlightPlanWaypointApproachAltitude, feet) 0 == if{ (A:Indicated Altitude, feet) } els{ (C:fs9gps:FlightPlanWaypointApproachAltitude, feet) } )%!5d!ft\t
      %( l1 0 == )%{if}%((A:GPS WP Bearing, degrees))%!3d!%{else}%((C:fs9gps:FlightPlanWaypointApproachCourse, degrees))%!3d!%{end}&#176;\{dn}M\{md}\t
      %((C:fs9gps:FlightPlanWaypointApproachRemainingDistance, nmiles))%!4.1f!nm\t
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Waypoint Selected                                         *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Wpt Sel Index, number) 0 &gt;= (C:fs9gps:FlightPlanIsActiveApproach, bool) 1 != &amp;&amp; </Visible>
  <Position X="295" Y="262"/>
  <Image Name="Waypoint Background.bmp" Bright="Yes" />

<Element id="Selected Waypoint">
<Position X="8" Y="60"/>
  <FormattedText X="380" Y="232" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Color="White" Bright="Yes" Tabs="0,170R,190" Adjust="Left" Fixed="No">
  <Color Value="Aqua"/>
  <String>
      %((L:GPS1 Wpt Sel Index, number) (&gt;C:fs9gps:FlightPlanWaypointIndex, number))
      \t\{clr2}MINIMUM ALTITUDE:\{clr1}\t
      %((C:fs9gps:FlightPlanWaypointMinAltitude, meters))%!5d! FEET\n
      \t\{clr2}DISTANCE:\{clr1}\t
      %((C:fs9gps:FlightPlanWaypointRemainingTotalDistance, meters) 1852 / )%!5.1f! nm \n
      \t\{clr2}LATITUDE:\{clr1}\t
      %((C:fs9gps:FlightPlanWaypointLatitude, degrees) s1 0 &lt; )%{if}S%{else}N%{end}  %( l1 abs flr s0 )%!3d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;\n
      \t\{clr2}LONGITUDE:\{clr1}\t
      %((C:fs9gps:FlightPlanWaypointLongitude, degrees) s1 0 &lt; )%{if}W%{else}E%{end}  %( l1 abs flr s0 )%!3d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;\{nr}
  </String>
 </FormattedText>
</Element>

 <Element>
  <Position X="10" Y="9"/>
  <Text X="90" Y="38" Bright="Yes" Font="Century Gothic" Length="5"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanWaypointIdent, string) 0 5 ssub )%!5s!</String>
  </Text>
 </Element>

<!--            Airport          -->

<Element>
<Visible>(C:fs9gps:FlightPlanWaypointType, number) 1 == </Visible>

 <Element>
  <Position X="100" Y="10"/>
  <Text X="300" Y="34" Bright="Yes" Length="27" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Wpt Sel Index, number) s1 0 == )%{if}%((C:fs9gps:FlightPlanDepartureName, string) uc s0 )%{else}%((C:fs9gps:FlightPlanDestinationName, string) uc s0 )%{end}%( l0 )%!.27s!</String>
  </Text>
 </Element>

<Element>
  <Position X="63" Y="160"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>ELEVATION:</String>
  </Text>
</Element>

<Element>
  <Position X="207" Y="160"/>
  <Text X="120" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%( l1 0 == )%{if}%((C:fs9gps:FlightPlanDepartureAltitude, meters) s0 )%{else}%((C:fs9gps:FlightPlanDestinationAltitude, meters) s0 )%{end}%( l0 3.28084 * near )%!4d! FEET</String>
  </Text>
</Element>

</Element>

<!--            Intersection          -->

<Element>
<Visible>(C:fs9gps:FlightPlanWaypointType, number) 2 == </Visible>
 <Element>
  <Position X="100" Y="10"/>
  <Text X="160" Y="34" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>INTERSECTION</String>
  </Text>
 </Element>
</Element>

<!--            VOR          -->

<Element>
<Visible>(C:fs9gps:FlightPlanWaypointType, number) 3 == </Visible>

 <Element>
  <Position X="100" Y="10"/>
  <Text X="380" Y="34" Bright="Yes" Length="25" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointVorName, string))%!.30s!</String>
  </Text>
 </Element>

 <Element>
  <Position X="300" Y="55"/>
  <Text X="120" Y="34" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointVorType, number))%{case}%{:0}UNKNOWN%{:1}VOR%{:2}VOR/DME%{:3}DME%{:4}TACAN%{:5}VORTAC%{:6}ILS%{:7}VOT%{end}</String>
  </Text>
 </Element>

 <Element>
  <Position X="65" Y="160"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>FREQUENCY:</String>
  </Text>
 </Element>

 <Element>
  <Position X="205" Y="160"/>
  <Text X="120" Y="28" Bright="Yes" Length="11" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanWaypointFrequency, mhz))%!3.3f! Mhz</String>
  </Text>
 </Element>

 <Element>
  <Position X="65" Y="184"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>ELEVATION:</String>
  </Text>
 </Element>

 <Element>
  <Position X="202" Y="184"/>
  <Text X="100" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointVORElevation, meters)  3.28084 * near )%!5d! FEET</String>
  </Text>
 </Element>

</Element>

<!--            NDB          -->

<Element>
<Visible>(C:fs9gps:FlightPlanWaypointType, number) 4 == </Visible>

 <Element>
  <Position X="100" Y="10"/>
  <Text X="380" Y="34" Bright="Yes" Length="25" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointNdbName, string))%!.30s!</String>
  </Text>
 </Element>

 <Element>
  <Position X="280" Y="55"/>
  <Text X="150" Y="34" Bright="Yes" Length="13" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointNdbType, number))%{case}%{:0}UNKNOWN%{:1}COMPASS POINT%{:2}MH%{:3}H%{:4}HH%{end}</String>
  </Text>
 </Element>

 <Element>
  <Position X="63" Y="160"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>FREQUENCY:</String>
  </Text>
 </Element>

 <Element>
  <Position X="205" Y="160"/>
  <Text X="120" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanWaypointFrequency, khz))%!3.1f! Khz</String>
  </Text>
 </Element>

 <Element>
  <Position X="65" Y="182"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>ELEVATION:</String>
  </Text>
 </Element>

 <Element>
  <Position X="202" Y="182"/>
  <Text X="100" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointNdbElevation, meters)  3.28084 * near )%!5d! FEET</String>
  </Text>
 </Element>

</Element>

</Element>


<!--
===============================================================================
*                                                                             *
*                   Approach Waypoint Selected                                *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Wpt Sel Index, number) 0 &gt;= (C:fs9gps:FlightPlanIsActiveApproach, bool) 1 == &amp;&amp; </Visible>
  <Position X="295" Y="262"/>
  <Image Name="Waypoint Background.bmp" Bright="Yes" />

<Element id="Selected Approach Waypoint">
<Position X="8" Y="60"/>
  <FormattedText X="380" Y="232" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Color="White" Bright="Yes" Tabs="0,170R,190" Adjust="Left" Fixed="No">
  <Color Value="Aqua"/>
  <String>
      %((L:GPS1 Wpt Sel Index, number) s1 -- (&gt;C:fs9gps:FlightPlanWaypointApproachIndex, number))
      \t\{clr2}ALTITUDE:\{clr1}\t
      %((C:fs9gps:FlightPlanWaypointApproachAltitude, feet))%!4d! FEET \n
      \t\{clr2}COURSE:\{clr1}\t
      %( l1 1 == if{ (A:GPS WP Bearing, degrees) } els{ (C:fs9gps:FlightPlanWaypointApproachCourse, degrees) } )%!3d!&#176;\{dn}M\{md}\n
      \t\{clr2}DISTANCE:\{clr1}\t
      %((C:fs9gps:FlightPlanWaypointApproachRemainingDistance, nmiles))%!2.1f! nm \n
      \t\{clr2}LATITUDE:\{clr1}\t
      %( l1 0 == if{ (A:Plane Latitude, degrees) s0 } els{ (C:fs9gps:FlightPlanWaypointApproachLatitude, degrees) s0 }
         l0 0 &lt; if{ 'S ' } els{ 'N ' } )%!2s!%( l0 abs flr s3 )%!3d!&#176;%( l0 abs l3 - abs 60 * 10 * near 10 / )%!3d!&#039; \n
      \t\{clr2}LONGITUDE:\{clr1}\t
      %( l1 0 == if{ (A:Plane Longitude, degrees) s0 } els{ (C:fs9gps:FlightPlanWaypointApproachLongitude, degrees) s0 }
         l0 0 &lt; if{ 'W ' } els{ 'E ' } )%!2s!%( l0 abs flr s3 )%!3d!&#176;%( l0 abs l3 - abs 60 * 10 * near 10 / )%!3d!&#039;\{nr}
  </String>
 </FormattedText>
</Element>

 <Element>
  <Position X="10" Y="7"/>
  <Text X="60" Y="34" Bright="Yes" Font="Century Gothic" Length="4"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>APP:</String>
  </Text>
 </Element>


 <Element>
  <Position X="70" Y="7"/>
  <Text X="90" Y="34" Bright="Yes" Font="Century Gothic" Length="8"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanApproachName, string))%!.8s!</String>
  </Text>
 </Element>

 <Element>
  <Position X="240" Y="7"/>
  <Text X="60" Y="34" Bright="Yes" Font="Century Gothic" Length="5"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>TRNS:</String>
  </Text>
 </Element>

 <Element>
  <Position X="150" Y="7"/>
  <Text X="90" Y="34" Bright="Yes" Font="Century Gothic" Length="8"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:FlightPlanApproachTransitionName, string))%!8s!</String>
  </Text>
 </Element>

 <Element>
  <Position X="300" Y="7"/>
  <Text X="90" Y="34" Bright="Yes" Font="Century Gothic" Length="6"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Wpt Sel Index, number) 0 == if{ 'ORIGIN' } els{ (C:fs9gps:FlightPlanWaypointApproachICAO, string) 7 5 ssub } )%!6s!</String>
  </Text>
 </Element>

</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Approach  (1)                                             *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(G:Var1) 1 == </Visible>

<!--
===============================================================================
*                                                                             *
*                   Select Approach                                           *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 APP Selected, bool) ! (A:GPS is Active Flight Plan, bool) &amp;&amp; (C:fs9gps:WaypointAirportApproachesNumber, number) 0 &gt; &amp;&amp; (L:GPS1 Runway Display, bool) ! &amp;&amp; </Visible>

<Element>
  <Position X="0" Y="206"/>
  <Text X="725" Y="32" Bright="Yes" Length="20" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>APPROACHES AVAILABLE</String>
  </Text>
</Element>

<!--  Approaches Column 1 -->

<Element id="Destination Approaches Column 1">
<Position X="10" Y="235"/>
  <FormattedText X="350" Y="312" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Color="White" Bright="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((C:fs9gps:WaypointAirportApproachesNumber, number) 12 min s2 0 &gt; )
   %{if}
   %(0 sp1)
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportCurrentApproach, number))
      %((G:Var2) l1 == )%{if}\{img1} \{blnk}%{else}\{nr}\{img2}%{end}
      %((C:fs9gps:WaypointAirportApproachName, string))%!10s!\n
      %(l1 ++ s1 l2 &lt; )
     %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

<!--  Approaches Column 2 -->

<Element id="Destination Approaches Column 2">
<Position X="160" Y="235"/>
  <FormattedText X="350" Y="312" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Color="White" Bright="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((C:fs9gps:WaypointAirportApproachesNumber, number) 24 min s2 12 &gt; )
   %{if}
   %(12 sp1)
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportCurrentApproach, number))
      %((G:Var2) l1 == )%{if}\{img1} \{blnk}%{else}\{nr}\{img2}%{end}
      %((C:fs9gps:WaypointAirportApproachName, string))%!10s!\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

<!--  Approaches Column 3 -->

<Element id="Destination Approaches Column 3">
<Position X="310" Y="235"/>
  <FormattedText X="350" Y="312" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Color="White" Bright="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((C:fs9gps:WaypointAirportApproachesNumber, number) 36 min s2 24 &gt; )
   %{if}
   %(24 sp1)
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportCurrentApproach, number))
      %((G:Var2) l1 == )%{if}\{img1} \{blnk}%{else}\{nr}\{img2}%{end}
      %((C:fs9gps:WaypointAirportApproachName, string))%!10s!\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

<!--  Approaches Column 4 -->

<Element id="Destination Approaches Column 4">
<Position X="460" Y="235"/>
  <FormattedText X="350" Y="312" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Color="White" Bright="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((C:fs9gps:WaypointAirportApproachesNumber, number) 48 min s2 36 &gt; )
   %{if}
   %(36 sp1)
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportCurrentApproach, number))
      %((G:Var2) l1 == )%{if}\{img1} \{blnk}%{else}\{nr}\{img2}%{end}
      %((C:fs9gps:WaypointAirportApproachName, string))%!10s!\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

<!--  Display Runways Button -->

<Element>
   <Position X="620" Y="538" />
  <Visible>(G:Var2) 0 &lt;</Visible>

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Runway Display, bool) </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" 
                 Color="%( 'White' 'LightGray' (L:GPS1 Runway Display, bool) ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Runway Display, bool) ? )" Bright="Yes">
    <String>RUNWAYS</String>
    </Text>
    </Element>

</Element>

<!--
===============================================================================
*                   Approach Selection OK Button                              *
===============================================================================
 -->

<Element>
   <Position X="620" Y="538" />
  <Visible>(G:Var2) 0 &gt;= </Visible>

  <Element>
   <Position X="0" Y="0" />
   <Image Name="Display Button Off.bmp" Bright="Yes"/>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="7" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
     Color="LightGray" BackgroundColor="Gray" Bright="Yes">
    <String>CONFIRM</String>
    </Text>
  </Element>
</Element>

</Element>


<!--
===============================================================================
*                                                                             *
*                   Runways Available                                         *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 APP Selected, bool) ! (A:GPS is Active Flight Plan, bool) &amp;&amp; (G:Var2) 0 &lt; &amp;&amp; </Visible>

<Element>
<Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) 0 == &amp;&amp; (L:GPS1 Runway Display, bool) || </Visible>

<Element>
  <Position X="0" Y="206"/>
  <Text X="725" Y="32" Bright="Yes" Length="20" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>RUNWAYS AVAILABLE</String>
  </Text>
</Element>


<Element id="Runways Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="26,28,170,360R,415R,480R,490,600" Fixed="Yes">
  <String>\tNAME \tDIRECTION \tLENGTH \tWIDTH \tELEV. \tSURFACE \tLIGHTING</String>
  </FormattedText>
</Element>

<Element id="Runways Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,28,200R,290R,350R,410R,470R,490,600" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Blank Square.bmp" />
  <String>
   %( 0 s1 (L:GPS1 Lines per Page, number) (C:fs9gps:WaypointAirportRunwaysNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportCurrentRunway, number))
      \{img1} \t
      %((C:fs9gps:WaypointAirportRunwayDesignation, string))%!.10s!\t
      %((C:fs9gps:WaypointAirportRunwayDirection, degrees) (L:Magvar Destination, degrees) - dnor )%!3d!&#176;/
      %((C:fs9gps:WaypointAirportRunwayDirection, degrees) 180 - dnor (L:Magvar Destination, degrees) - dnor )%!3d!&#176;\{dn}M\{md}\t
      %((C:fs9gps:WaypointAirportRunwayDirection, degrees))%!3d!&#176;/
      %((C:fs9gps:WaypointAirportRunwayDirection, degrees) 180 - dnor )%!3d!&#176;\{dn}T\{md}\t
      %((C:fs9gps:WaypointAirportRunwayLength, feet))%!5d!ft\t
      %((C:fs9gps:WaypointAirportRunwayWidth, feet))%!3d!ft\t
      %((C:fs9gps:WaypointAirportRunwayElevation, feet))%!4d!ft\t
      %((C:fs9gps:WaypointAirportRunwaySurface, number))%{case}%{:1}CONCRETE%{:2}ASPHALT%{:101}GRASS%{:102}TURF%{:103}DIRT%{:104}CORAL%{:105}GRAVEL%{:106}OIL TREATED%{:107}STEEL%{:108}BITUMEN%{:109}BRICK%{:110}MACADAM%{:111}PLANKS%{:112}SAND%{:113}SHALE%{:114}TARMAC%{:115}SNOW%{:116}ICE%{:201}WATER%{end}\t
      %((C:fs9gps:WaypointAirportRunwayLighting, number))%{case}%{:0}UNKNOWN%{:1}NONE%{:2}PART TIME%{:3}FULL TIME%{:4}FREQUENCY%{end}\t
      \n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<!--  Display Runways Button -->

<Element>
   <Position X="620" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Runway Display, bool) </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" 
                 Color="%( 'White' 'LightGray' (L:GPS1 Runway Display, bool) ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Runway Display, bool) ? )" Bright="Yes">
    <String>RUNWAYS</String>
    </Text>
    </Element>

</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Approach Selected                                         *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 APP Selected, bool) </Visible>

<Element>
  <Position X="400" Y="190"/>
  <Text X="210" Y="34" Bright="Yes" Length="17" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>APPROACH SELECTED</String>
  </Text>
  <Shift>
  <Value>
  (L:GPS1 APP Selected, bool) if{ (G:Var2) (&gt;C:fs9gps:WaypointAirportCurrentApproach, number) }
  0
  </Value>
  </Shift>
</Element>


<!--  Approach Name -->

<Element>
  <Position X="350" Y="225"/>
  <Text X="100" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>APPROACH:</String>
  </Text>
</Element>

<Element>
  <Position X="450" Y="224"/>
  <Text X="120" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportApproachName, string))%!.10s!</String>
  </Text>
</Element>

<Element>
  <Position X="590" Y="222"/>
  <Text X="90" Y="32" Bright="Yes" Length="8" Font="Century Gothic"
   FontWeight="700" Color="%( '#20E000' 'Red' (A:GPS is Approach Active, bool) ? )"
   Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:GPS is Approach Active, bool) if{ 'ACTIVE' } els{ 'INACTIVE' } )%!8s!</String>
  </Text>
</Element>

<Element>
<Visible>(C:fs9gps:WaypointAirportApproachName, string) 0 3 ssub 'ILS' scmp 0 == s0 </Visible>

<Element>
  <Position X="350" Y="252"/>
  <Text X="120" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FREQUENCY:</String>
  </Text>
</Element>

<Element>
  <Position X="450" Y="248"/>
  <FormattedText X="80" Y="30" Bright="Yes" Font="Century Gothic" FontSize="26" FontWeight="700"
   Color="White" Adjust="Left" VerticalAdjust="Center">
  <String>
   %( 0 s3 s4 (C:fs9gps:WaypointAirportFrequenciesNumber, number) s2 0 &gt; l0 &amp;&amp; )
   %{if}
   %(0 sp1)
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportCurrentFrequency, number))
      %((C:fs9gps:WaypointAirportFrequencyType, enum) 2 == )
      %{if}
      %((C:fs9gps:WaypointAirportApproachName, string)  s0 4 symb ord s10 l0 5 symb ord s11 l0 6 symb ord s12 )
      %((C:fs9gps:WaypointAirportFrequencyName, string) s0 4 symb ord s20 l0 5 symb ord s21 l0 6 symb ord s22 )
      %( l10 l20 - 0 == )
      %{if}
      %( l11 l21 - 0 == )
      %{if}
      %( l12 l22 - 0 == )
      %{if}
        %( (C:fs9gps:WaypointAirportFrequencyValue, mhz) s3 )%!3.3f!
    %{end}
    %{end}
    %{end}
    %{end}
    %(l1 ++ s1 l2 &lt; )
    %{next}
  %{end}
   %(l3 (&gt;L:GPS1 ILS Frequency, mhz))
   </String>
  </FormattedText>
</Element>

<Element>
  <Position X="590" Y="251"/>
  <Text X="120" Y="32" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Red" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 ILS Frequency, Mhz) (A:Nav Active Frequency:1, mhz) != if{ 'NOT TUNED' } els{ ' ' } )%!9s!</String>
  </Text>
</Element>

<Element>
<Visible>(L:GPS1 ILS Frequency, Mhz) (A:Nav Active Frequency:1, mhz) == </Visible>

 <Element>
  <Position X="590" Y="247"/>
  <Text X="120" Y="32" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="%('#20E000' '#FFD300' (A:Nav has Nav:1, bool) ? )" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:Nav has Nav:1, bool) if{ 'SIGNAL' } els{ 'NO SIGNAL' } )%!9s!</String>
  </Text>
</Element>

</Element>

</Element>

<Element>
  <Position X="350" Y="289"/>
  <Rectangle LineWidth="2" Width="107" Height="242" Color="Yellow" />
</Element>

<Element>
  <Position X="443" Y="316"/>
  <Visible>(L:GPS1 Transition Start Index, number) 0 == (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) 8 &gt; &amp;&amp;</Visible> 
  <Image Name="Transition Down Arrow.bmp" Bright="Yes" />
</Element>

<Element>
  <Position X="443" Y="316"/>
  <Visible>(L:GPS1 Transition Start Index, number) 0 &gt; (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 8 &gt; &amp;&amp;</Visible> 
  <Image Name="Transition Two Arrow.bmp" Bright="Yes" />
</Element>

<Element>
  <Position X="443" Y="316"/>
  <Visible>(L:GPS1 Transition Start Index, number) 0 &gt; (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 8 &lt;= &amp;&amp;</Visible> 
  <Image Name="Transition Up Arrow.bmp" Bright="Yes" />
</Element>

<Element>
  <Position X="355" Y="289"/>
  <Text X="150" Y="28" Bright="Yes" Length="11" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>TRANSITIONS</String>
  </Text>
</Element>

<Element>
  <Position X="353" Y="313"/>
  <FormattedText X="150" Y="270" Bright="Yes" Font="Century Gothic" FontSize="22" LineSpacing="26" FontWeight="700"
   Color="White" Adjust="Left" VerticalAdjust="Center">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((L:GPS1 Transition Start Index, number) s1 8 + (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportApproachCurrentTransition, number))
      %((L:GPS1 Trans Index, number) l1 == )%{if}\{img1}\{rev} %{else}\{nr}\{img2} %{end}
      %((C:fs9gps:WaypointAirportApproachTransitionName, string))%!s!
     \n
    %(l1 ++ s1 l2 &lt; )
    %{next}
  %{end}
   </String>
  </FormattedText>
</Element>



<!--  Runways -->

<Element>
 <Visible> 1 </Visible>


<Element>
  <Position X="460" Y="319"/>
  <Text X="90" Y="28" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>RUNWAY:</String>
  </Text>
</Element>

<Element>
  <Position X="540" Y="314"/>
  <FormattedText X="440" Y="28" Bright="Yes" Font="Century Gothic" FontSize="26" FontWeight="700"
   Color="White" Adjust="Left" VerticalAdjust="Center">
  <String>
   %((C:fs9gps:WaypointAirportRunwaysNumber, number) s2 0 &gt; )
   %{if}
   %(0 sp1)
   %{loop}
      %(l1 (&gt;C:fs9gps:WaypointAirportCurrentRunway, number))
      %((C:fs9gps:WaypointAirportApproachName, string) '0' sstr s10 0 &lt; if{ 99 s10 } (C:fs9gps:WaypointAirportApproachName, string) '1' sstr s11 0 &lt; if{ 99 s11 } (C:fs9gps:WaypointAirportApproachName, string) '2' sstr s12 0 &lt; if{ 99 s12 } (C:fs9gps:WaypointAirportApproachName, string) '3' sstr s13 0 &lt; if{ 99 s13 } l10 l11 min l12 min l13 min s14 )
      %((C:fs9gps:WaypointAirportApproachName, string) l14 3 ssub s4 (C:fs9gps:WaypointAirportRunwayDesignation, string) l4 sstr 0 &gt;= (C:fs9gps:WaypointAirportRunwaySurface, number) 100 &lt; &amp;&amp; )
      %{if}
        %((C:fs9gps:WaypointAirportCurrentRunway, number) s5 )
        %((C:fs9gps:WaypointAirportRunwayDesignation, string))%!.40s!
        %( l1 ++ s2 )
     %{end}
    %(l1 ++ s1 l2 &lt; )
    %{next}
  %{end}
    %(l5 (&gt;C:fs9gps:WaypointAirportCurrentRunway, number))
   </String>
  </FormattedText>
</Element>

<Element>
  <Position X="460" Y="342"/>

<Element>
  <Position X="0" Y="3"/>
  <Text X="90" Y="28" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LENGTH:</String>
  </Text>
</Element>

<Element>
  <Position X="80" Y="0"/>
  <Text X="50" Y="32" Bright="Yes" Length="5" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwayLength, meters))%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="3"/>
  <Text X="24" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>MT</String>
  </Text>
</Element>

<Element>
  <Position X="160" Y="0"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwayLength, feet))%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="230" Y="3"/>
  <Text X="24" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FT</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="29"/>
  <Text X="90" Y="28" Bright="Yes" Length="6" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>WIDTH:</String>
  </Text>
</Element>

<Element>
  <Position X="80" Y="27"/>
  <Text X="50" Y="32" Bright="Yes" Length="5" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwayWidth, meters))%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="29"/>
  <Text X="24" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>MT</String>
  </Text>
</Element>

<Element>
  <Position X="160" Y="27"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwayWidth, feet))%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="230" Y="29"/>
  <Text X="24" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FT</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="54"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>ELEVATION:</String>
  </Text>
</Element>

<Element>
  <Position X="80" Y="52"/>
  <Text X="50" Y="32" Bright="Yes" Length="5" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwayElevation, meters))%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="54"/>
  <Text X="24" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>MT</String>
  </Text>
</Element>

<Element>
  <Position X="160" Y="52"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwayElevation, feet))%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="230" Y="54"/>
  <Text X="24" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FT</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="81"/>
  <Text X="110" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DIRECTION:</String>
  </Text>
  <Shift>
  <Value>
   l4 0 1 ssub ord 48 - 10 * s0 l4 1 1 ssub ord 48 - l0 + 10 * s0 
  (C:fs9gps:WaypointAirportRunwayDirection, degrees) s3 l0 - abs s1 180 &gt; if{ 360 l1 - s1 }
  (C:fs9gps:WaypointAirportRunwayDirection, degrees) 180 - dnor s4 l0 - abs s0 180 &gt; if{ 360 l0 - s0 } l0 l1 &lt; if{ l4 } els{ l3 } s0
  0
  </Value>
  </Shift>
</Element>

<Element>
  <Position X="80" Y="79"/>
  <Text X="60" Y="32" Bright="Yes" Length="4" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%( l0 (L:Magvar Destination, degrees) - dnor )%!3d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="130" Y="88"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>M</String>
  </Text>
</Element>

<Element>
  <Position X="130" Y="79"/>
  <Text X="60" Y="32" Bright="Yes" Length="4" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%( l0 )%!3d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="180" Y="88"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>T</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="108"/>
  <Text X="80" Y="28" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>MAGVAR:</String>
  </Text>
</Element>

<Element>
  <Position X="80" Y="106"/>
  <Text X="60" Y="32" Bright="Yes" Length="4" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((L:Magvar Destination, degrees) /-/ )%!+3d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="135"/>
  <Text X="100" Y="28" Bright="Yes" Length="8" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>SURFACE:</String>
  </Text>
</Element>

<Element>
  <Position X="100" Y="133"/>
  <Text X="130" Y="32" Bright="Yes" Length="11" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwaySurface, number))%{case}%{:1}CONCRETE%{:2}ASPHALT%{:101}GRASS%{:102}TURF%{:103}DIRT%{:104}CORAL%{:105}GRAVEL%{:106}OIL TREATED%{:107}STEEL%{:108}BITUMEN%{:109}BRICK%{:110}MACADAM%{:111}PLANKS%{:112}SAND%{:113}SHALE%{:114}TARMAC%{:115}SNOW%{:116}ICE%{:201}WATER%{end}</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="162"/>
  <Text X="110" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LIGHTING:</String>
  </Text>
</Element>

<Element>
  <Position X="100" Y="160"/>
  <Text X="120" Y="32" Bright="Yes" Length="9" Font="Century Gothic" FontWeight="700"
   Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwayLighting, number))%{case}%{:0}UNKNOWN%{:1}NONE%{:2}PART TIME%{:3}FULL TIME%{:4}FREQUENCY%{end}</String>
  </Text>
</Element>

</Element>


</Element>


<!--
===============================================================================
*                                                                             *
*                   Approach Map                                              *
*                                                                             *
===============================================================================
 -->
<Element id="MAP Options">
 <Visible> (G:Var1) 1 == (L:GPS1 APP Selected, bool) &amp;&amp; </Visible>

<Element id="Approach Map">
<Position X="0" Y="205"/>
<CustomDraw Name="fs9gps:2:map" X="345" Y="380" LayerTerrain="Yes"
            ActiveColorLayerFlightPlan="0x7010B0" BackgroundColor="0x000001"
            PastColorLayerFlightPlan="0xF0F0F0" ColorLayerFlightPlan="0xF0F0F0" Priority="Yes"
            Bright="Yes">

        <Zoom>(L:GPS1 APP Range, number) 1852 *</Zoom>
        <Latitude>(C:fs9gps:WaypointAirportApproachTransitionLatitude, radians)</Latitude>
        <Longitude>(C:fs9gps:WaypointAirportApproachTransitionLongitude, radians)</Longitude>
        <TrackUp>0</TrackUp>
        <CenterX>(L:GPS1 APP CentreX, number)</CenterX>
        <CenterY>(L:GPS1 APP CentreY, number)</CenterY>

<!--    Colours  --> 
        <WaterColor>0x783C30</WaterColor>
        <IceColor>0xF8F8F8</IceColor>

<!--    Terrain  -->   
	<DetailLayerTerrain>1</DetailLayerTerrain>

<!--    Waypoints  --> 
        <LayerIntersections>(L:GPS1 APP Display Wpt, bool) ! </LayerIntersections>
        <DetailLayerIntersections>2</DetailLayerIntersections>
        <TextDetailLayerIntersections>(L:GPS1 APP Display Details, bool)</TextDetailLayerIntersections>

<!--    Airports  --> 
        <LayerAirports>(L:GPS1 APP Display Airports, bool) ! </LayerAirports>
        <DetailLayerAirports>4</DetailLayerAirports>
        <TextDetailLayerAirports>(L:GPS1 APP Display Details, bool) if{ 4 } els{ 1 }</TextDetailLayerAirports>
        <ObjectDetailLayerAirports>0x05 0x1D 0x1F 0x1F 4 (L:GPS1 APP Range, number) 50 / case s0 (L:GPS1 APP Range, number) 200 &gt;= if{ 0x05 s0 } l0 </ObjectDetailLayerAirports>
        <ColorLayerAirportsTowered>0xFFFF00</ColorLayerAirportsTowered>

<!--    VORs  --> 
        <LayerVORs>(L:GPS1 APP Display VORs, bool) !</LayerVORs>
        <DetailLayerVORs>2</DetailLayerVORs>
        <TextDetailLayerVORs>(L:GPS1 APP Display Details, bool) if{ 3 } els{ 1 } </TextDetailLayerVORs>
        <ColorLayerVORs>0x00FFFF</ColorLayerVORs>

<!--    NDBs  --> 
        <LayerNDBs>(L:GPS1 APP Display NDBs, bool) !</LayerNDBs>
        <DetailLayerNDBs>2</DetailLayerNDBs>
        <TextDetailLayerNDBs>(L:GPS1 APP Display Details, bool) 1 == if{ 3 } els{ 1 } </TextDetailLayerNDBs>

<!--    Airways  --> 
        <LayerAirways>(L:GPS1 APP Display Victor, bool) (L:GPS1 APP Display Jet, bool) || </LayerAirways>
        <DetailLayerAirways>1</DetailLayerAirways>
        <TextDetailLayerAirways>1</TextDetailLayerAirways>
        <ObjectDetailLayerAirways>0 s0 (L:GPS1 APP Display Victor, bool) if{ 1 s0 } (L:GPS1 APP Display Jet, bool) if{ 2 s0 } (L:GPS1 APP Display Victor, bool) (L:GPS1 APP Display Jet, bool) &amp;&amp; if{ 3 s0 } l0 </ObjectDetailLayerAirways>

<!--    ILSs  -->
        <LayerILSs>(L:GPS1 MAP Display Airports, bool) !</LayerILSs>
        <ObjectDetailLayerILSs>1</ObjectDetailLayerILSs>

<!--    TCAS  -->
        <LayerVehicles>0</LayerVehicles>

<!--    Approach  -->
        <LayerApproach>(C:fs9gps:WaypointAirportApproachesNumber, number) 0 &gt; if{ 1 } els{ 0 }</LayerApproach>
        <DetailLayerApproach>7</DetailLayerApproach>
        <ObjectDetailLayerApproach>1</ObjectDetailLayerApproach>
        <LayerApproachAirport>(C:fs9gps:WaypointAirportICAO)</LayerApproachAirport>
        <LayerApproachApproach>(C:fs9gps:WaypointAirportCurrentApproach)</LayerApproachApproach>
        <LayerApproachTransition>(L:GPS1 Trans Index, number)</LayerApproachTransition>
        <LayerApproachLineWidth>(L:GPS1 APP Linewidth, number)</LayerApproachLineWidth>

<!--    Flight Plan  -->
        <LayerFlightPlan>(L:GPS1 APP Display Flight Plan, bool) </LayerFlightPlan>
        <ObjectDetailLayerFlightPlan>0xF</ObjectDetailLayerFlightPlan>
        <FlightPlanLineWidth>(L:GPS1 Linewidth, number)</FlightPlanLineWidth>

<!--    Borders  -->
        <LayerBorders>1</LayerBorders>
        <ObjectDetailLayerBorders>2</ObjectDetailLayerBorders>

<!--    Airspaces  -->
        <LayerAirspaces>(L:GPS1 APP Display Airspaces, bool)</LayerAirspaces>
        <ObjectDetailLayerAirspaces>(L:GPS1 APP Display Airspaces, bool) if{ 0xEFC038 } els{ 0x000000 } </ObjectDetailLayerAirspaces>
        <ColorLayerAirspaces>0x808080</ColorLayerAirspaces>
			
</CustomDraw>

</Element>

<Element>
 <Position X="350" Y="535"/>
 <Text X="60" Y="18" Length="5" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White"  Bright="Yes">
 <String>RANGE</String>
 </Text>
</Element>

<Element>
 <Position X="350" Y="555"/>
 <Text X="60" Y="22" Length="5" Fixed="No" FontWeight="700" 
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White"  Bright="Yes">
 <String>%((L:GPS1 APP Range, number))%!3d!nm</String>
 </Text>
</Element>


</Element>


<!--
===============================================================================
*                                                                             *
*                   Approach Selection Buttons                                *
*                                                                             *
===============================================================================
 -->

<!--  Activate NAV1 ILS -->

<Element>
   <Position X="416" Y="538" />

<Element>
<Visible>(L:GPS1 ILS Frequency, Mhz) 0 &gt; </Visible>

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 ILS Frequency, Mhz) (A:Nav Active Frequency:1, mhz) == </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="9" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 ILS Frequency, Mhz) (A:Nav Active Frequency:1, mhz) == ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 ILS Frequency, Mhz) (A:Nav Active Frequency:1, mhz) == ? )" Bright="Yes">
      <String>ILS TUNED</String>
      </Text>
     </Element>

  </Element>

</Element>


<!--  Cancel Approach -->

<Element>
   <Position X="518" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Image Name="Display Button Off.bmp"/>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="6" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'Yellow' 'LightGray'    (G:Var1) 0 == ? )"
       BackgroundColor="%( 'Gray' 'Gray' (G:Var1) 0 == ? )" Bright="Yes">
      <String>CANCEL</String>
      </Text>
     </Element>

  </Element>

<!--  Activate Approach -->

<Element>
   <Position X="620" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(C:fs9gps:FlightPlanIsActiveApproach, bool) 1 == </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray'    (C:fs9gps:FlightPlanIsActiveApproach, bool) 1 == ? )"
       BackgroundColor="%( '#20E000' 'Gray' (C:fs9gps:FlightPlanIsActiveApproach, bool) 1 == ? )" Bright="Yes">
      <String>ACTIVATE</String>
      </Text>
     </Element>

  </Element>

</Element>

</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Flight Plan Selection Buttons                             *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible> (G:Var1) 0 == (A:GPS is Active Flight Plan, bool) &amp;&amp; </Visible>

<!--  Auto Transition -->

<Element>
   <Position X="416" Y="538" />
   <Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) 1 == </Visible>

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Auto Transition, bool) </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 Auto Transition, bool) ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Auto Transition, bool) ? )" Bright="Yes">
      <String>AUTO ALT</String>
      </Text>
     </Element>

</Element>

<!--  Previous Page -->

<Element>
   <Position X="518" Y="538" />
   <Visible> (L:GPS1 Button 6 Visibility, bool) </Visible>

  <Element>
   <Image Name="Display Button Off.bmp"/>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Bright="Yes"
     Color="%( 'White' 'LightGray' (L:GPS1 Wpt Page Number, number) 1 &gt; ? )" BackgroundColor="Gray">
    <String>PRV PAGE</String>
    </Text>
   </Element>
</Element>


<!--  Display Next Page -->

<Element>
   <Position X="620" Y="538" />
   <Visible> (L:GPS1 Button 7 Visibility, bool) </Visible>

  <Element>
   <Position X="0" Y="0" />
   <Image Name="Display Button Off.bmp"/>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Bright="Yes"
     Color="%( 'LightGray' 'White' (C:fs9gps:FlightPlanWaypointsNumber, number) (L:GPS1 Lines per Page, number) / ceil  (L:GPS1 Wpt Page Number, number) == ? )" BackgroundColor="Gray" >
    <String>NXT PAGE</String>
    </Text>
    </Element>
</Element>

</Element>

<!--  Direct to Waypoint -->

<Element>
<Position X="660" Y="170"/>
<Visible>(G:Var8)</Visible>

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Direct to, bool)</Value>
     <Case Value="0">
        <Image Name="Display Button Small Off.bmp" Bright="Yes"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Small On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>
</Element> 

</Element>

<!--
===============================================================================
*                                                                             *
*                   NEAREST AIRPORTS / VORs / NDBs / Intersections            *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(G:Var1) 2 == </Visible>
  <Position X="37" Y="41"/>

<Element>
<Visible>(L:GPS1 Nrs Sel Index, number) 0 &lt; </Visible>

 <Element>
  <Position X="0" Y="50"/>
  <Text X="720" Y="34" Bright="Yes" Length="20" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>NEAREST %((L:GPS1 Nearest Selected, number))%{case}%{:0}AIRPORT%{:1}VOR%{:2}NDB%{:3}INTERSECTION%{:4}AIRSPACE%{end}</String>
  </Text>
</Element>
</Element>

<Element>
<Visible>(L:GPS1 Nrs Sel Index, number) 0 &gt;= </Visible>

 <Element>
  <Position X="0" Y="50"/>
  <Text X="720" Y="34" Bright="Yes" Length="29" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>SELECTED NEAREST %((L:GPS1 Nearest Selected, number))%{case}%{:0}AIRPORT%{:1}VOR%{:2}NDB%{:3}INTERSECTION%{:4}AIRSPACE%{end}</String>
  </Text>
  <Shift>
  <Value>
   (G:Var1) 2 == if{
   (L:GPS1 Nrs Sel Index, number) 0 &lt; if{ 0 s0 } els{ (L:GPS1 Nrs Sel Index, number) s0 }

          (L:GPS1 Nearest Selected, number) 0 == if{ l0 (&gt;C:fs9gps:NearestAirportCurrentLine, number)
                                                     l0 (&gt;C:fs9gps:NearestAirportSelected, number)
                                                     (C:fs9gps:NearestAirportCurrentICAO, string) (&gt;C:fs9gps:WaypointAirportICAO, string)
                                                      0 (&gt;C:fs9gps:WaypointAirportCurrentRunway, number) }
          (L:GPS1 Nearest Selected, number) 1 == if{ l0 (&gt;C:fs9gps:NearestVorCurrentLine, number)
                                                     l0 (&gt;C:fs9gps:NearestVorSelectedVor, number) }
          (L:GPS1 Nearest Selected, number) 2 == if{ l0 (&gt;C:fs9gps:NearestNdbCurrentLine, number)
                                                     l0 (&gt;C:fs9gps:NearestNdbSelectedNdb, number) }
          (L:GPS1 Nearest Selected, number) 3 == if{ l0 (&gt;C:fs9gps:NearestIntersectionCurrentLine, number)
                                                      }
          (L:GPS1 Nearest Selected, number) 4 == if{ l0 (&gt;C:fs9gps:NearestAirspaceCurrentLine, number) }
   }
   0
  </Value>
  </Shift>
</Element>

</Element>



<!--
===============================================================================
*                                                                             *
*                   Direct to Airport / VOR / NDB / Intersection              *
*                                                                             *
===============================================================================
 -->

<Element>
<Position X="660" Y="170"/>
<Visible>(L:GPS1 Nearest Selected, number) 4 &lt;</Visible>

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Direct to, bool)</Value>
     <Case Value="0">
        <Image Name="Display Button Small Off.bmp" Bright="Yes"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Small On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>
</Element> 

<!--
===============================================================================
*                                                                             *
*                   Nearest Airport Heading Data                              *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 0 == </Visible>

<!--  Nearest Airport Ident -->

<Element>
  <Position X="10" Y="77"/>
  <Text X="80" Y="32" Bright="Yes" Length="5" Font="Century Gothic" 
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportCurrentICAO, string))%!.5s!</String>
  </Text>
</Element>

<!--  Nearest Airport Name -->

<Element>
  <Position X="110" Y="77"/>
  <Text X="520" Y="32" Bright="Yes" Length="80" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportSelectedAirportName, string) uc ', ' scat s0 (C:fs9gps:NearestAirportSelectedAirportCity, string) uc s1 l0 l1 scat)%!.80s!</String>
  </Text>
</Element>

<!--  Airport Class -->

<Element>
  <Position X="10" Y="104"/>
  <Text X="100" Y="28" Bright="Yes" Length="7" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>RUNWAY:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="102"/>
  <Text X="140" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:WaypointAirportRunwaySurface, number))%{case}%{:1}CONCRETE%{:2}ASPHALT%{:101}GRASS%{:102}TURF%{:103}DIRT%{:104}CORAL%{:105}GRAVEL%{:106}OIL TREATED%{:107}STEEL%{:108}BITUMEN%{:109}BRICK%{:110}MACADAM%{:111}PLANKS%{:112}SAND%{:113}SHALE%{:114}TARMAC%{:115}SNOW%{:116}ICE%{:201}WATER%{end}</String>
  </Text>
</Element>

<!--  Magnetic Bearing -->

<Element>
  <Position X="10" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="8" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>BEARING:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="125"/>
  <Text X="50" Y="32" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="133"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>M</String>
  </Text>
</Element>

<!--  Latitude -->

<Element>
  <Position X="10" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LATITUDE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="150"/>
  <Text X="100" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportSelectedAirportLatitude, degrees) s1 0 &lt; )%{if}S%{else}N%{end}  %( l1 abs flr s0 )%!2d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;</String>
  </Text>
</Element>
       
<!--  Longitude -->

<Element>
  <Position X="10" Y="177"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LONGITUDE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="175"/>
  <Text X="110" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportSelectedAirportLongitude, degrees) s1 0 &lt; )%{if}W%{else}E%{end}  %( l1 abs flr s0 )%!3d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;</String>
  </Text>
</Element>

<!--  Best Approach Type Available -->

<Element>
  <Position X="290" Y="104"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>BEST APPROACH:</String>
  </Text>
</Element>

<Element>
  <Position X="430" Y="102"/>
  <Text X="40" Y="32" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportCurrentBestApproach, string))%!3s!</String>
  </Text>
</Element>

<!--  Longest Runway Direction -->

<Element>
  <Position X="290" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DIRECTION:</String>
  </Text>
</Element>

<Element>
  <Position X="430" Y="125"/>
  <Text X="50" Y="32" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportCurrentLongestAirportDirection, degrees))%!03d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="459" Y="136"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>M</String>
  </Text>
</Element>

<!--  Elevation -->

<Element>
  <Position X="290" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>ELEVATION:</String>
  </Text>
</Element>

<Element>
  <Position X="430" Y="150"/>
  <Text X="50" Y="32" Bright="Yes" Length="5" Font="Century Gothic" 
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportSelectedAirportElevation, feet))%!1d!</String>
  </Text>
</Element>

<Element>
  <Position X="507" Y="152"/>
  <Text X="40" Y="28" Bright="Yes" Length="4" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FEET</String>
  </Text>
</Element>


<!--  Comm Frequency -->

<Element>
  <Position X="290" Y="177"/>
  <Text X="180" Y="28" Bright="Yes" Length="10" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>COMM FREQ:</String>
  </Text>
</Element>

<Element>
  <Position X="430" Y="175"/>
  <Text X="80" Y="32" Bright="Yes" Length="7" Font="Century Gothic" 
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportCurrentComFrequencyValue, mhz))%!3.3f!</String>
  </Text>
</Element>

<Element>
  <Position X="507" Y="177"/>
  <Text X="120" Y="28" Bright="Yes" Length="3" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Mhz</String>
  </Text>
</Element>

<Element>
  <Position X="545" Y="175"/>
  <Text X="40" Y="32" Bright="Yes" Length="3" Font="Century Gothic" 
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirportCurrentComFrequencyName, string) uc )%!3s!</String>
  </Text>
</Element>

<!--  Fuel -->

<Element>
<Position X="600" Y="104"/>
<Visible>(A:Engine Type, number) 1 == (C:fs9gps:WaypointAirportFuel2, string) 'Jet' scmi 0 == &amp;&amp;</Visible>


<Element>
  <Position X="0" Y="4"/>
  <Text X="100" Y="28" Bright="Yes" Length="8" Font="Century Gothic"
   FontWeight="700" Color="#20E000" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>JET FUEL</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="29"/>
  <Text X="100" Y="28" Bright="Yes" Length="9" Font="Century Gothic" 
   FontWeight="700" Color="#20E000" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>AVAILABLE</String>
  </Text>
</Element>

<Element>
<Position X="0" Y="0"/>
<Rectangle LineWidth="2" Width="100" Height="60" Color="#20E000" />
</Element>

</Element>

<Element>
<Position X="600" Y="104"/>
<Visible>(A:Engine Type, number) 1 != (C:fs9gps:WaypointAirportFuel1, string) 'Avgas' scmi 0 == &amp;&amp;</Visible>

<Element>
  <Position X="0" Y="4"/>
  <Text X="100" Y="28" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="#20E000" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>AVGAS</String>
  </Text>
</Element>

<Element>
  <Position X="0" Y="29"/>
  <Text X="100" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="#20E000" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>AVAILABLE</String>
  </Text>
</Element>

<Element>
<Position X="0" Y="0"/>
<Rectangle LineWidth="2" Width="100" Height="60" Color="#20E000" />
</Element>

</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest VOR Heading Data                                  *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 1 == </Visible>

<!--  Tune Selected VOR on NAV1 -->

<Element>
   <Position X="490" Y="55" />
   <Select>
    <Value>
      0 s0 (C:fs9gps:NearestVORCurrentFrequency, mhz) (A:Nav Active Frequency:1, mhz) == if{ 10 s0 } (A:Nav has Nav:1, bool) abs l0 + s0 
    </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="10">
        <Image Name="Display Button Large Yellow.bmp"/>
     </Case>
     <Case Value="11">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="9" Fixed="No" FontWeight="700" 
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' '#101010' 'LightGray' l0 10 == ? l0 11 == ? )"
       BackgroundColor="%( '#20E000' 'Yellow'   'Gray'   l0 10 == ? l0 11 == ? )" Bright="Yes">
      <String>TUNE NAV1</String>
      </Text>
     </Element>

  </Element>

<!--  Tune Selected VOR on NAV2 -->

<Element>
   <Position X="610" Y="55" />
   <Select>
    <Value>
     0 s0 (C:fs9gps:NearestVORCurrentFrequency, mhz) (A:Nav Active Frequency:2, mhz) == if{ 10 s0 } (A:Nav has Nav:2, bool) abs l0 + s0 
    </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="10">
        <Image Name="Display Button Large Yellow.bmp"/>
     </Case>
     <Case Value="11">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="9" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' '#101010' 'LightGray' l0 10 == ? l0 11 == ? )"
       BackgroundColor="%( '#20E000' 'Yellow'   'Gray'   l0 10 == ? l0 11 == ? )" Bright="Yes">
      <String>TUNE NAV2</String>
      </Text>
     </Element>

  </Element>

<!--  Nearest VOR Ident -->


<Element>
  <Position X="10" Y="77"/>
  <Text X="80" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVorCurrentIdent, string))%!.5s!</String>
  </Text>
</Element>

<!--  Nearest VOR Name -->

<Element>
  <Position X="110" Y="77"/>
  <Text X="640" Y="32" Bright="Yes" Length="33" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVorSelectedVorName, string))%!.33s!</String>
  </Text>
</Element>

<!--  VOR Type -->

<Element>
  <Position X="10" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>VOR TYPE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="125"/>
  <Text X="140" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVORCurrentType, number))%{case}%{:0}UNKNOWN%{:1}VOR%{:2}VOR/DME%{:3}DME%{:4}TACAN%{:5}VORTAC%{:6}ILS%{end}</String>
  </Text>
</Element>

<!--  Magnetic Bearing -->

<Element>
  <Position X="10" Y="102"/>
  <Text X="180" Y="28" Bright="Yes" Length="8" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>BEARING:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="100"/>
  <Text X="50" Y="32" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVORCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="109"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>M</String>
  </Text>
</Element>

<!--  Distance -->

<Element>
  <Position X="300" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DISTANCE:</String>
  </Text>
</Element>

<Element>
  <Position X="450" Y="125"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVORCurrentDistance, nmiles))%!3.1f!</String>
  </Text>
</Element>

<Element>
  <Position X="520" Y="127"/>
  <Text X="25" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>nm</String>
  </Text>
</Element>


<!--  Latitude -->

<Element>
  <Position X="10" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LATITUDE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="150"/>
  <Text X="100" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVORSelectedVORLatitude, degrees) s1 0 &lt; )%{if}S%{else}N%{end}  %( l1 abs flr s0 )%!2d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;</String>
  </Text>
</Element>
       
<!--  Longitude -->

<Element>
  <Position X="10" Y="177"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LONGITUDE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="175"/>
  <Text X="120" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVORSelectedVORLongitude, degrees) s1 0 &lt; if{ 'W' } els{ 'E' } )%!1s!  %( l1 abs flr s0 )%!3d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039; </String>
  </Text>
</Element>

<!--  Frequency -->

<Element>
  <Position X="300" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="10" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FREQUENCY:</String>
  </Text>
</Element>

<Element>
  <Position X="450" Y="150"/>
  <Text X="80" Y="32" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestVORCurrentFrequency, mhz))%!3.3f!</String>
  </Text>
</Element>

<Element>
  <Position X="520" Y="152"/>
  <Text X="35" Y="28" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Mhz</String>
  </Text>
</Element>

<!--  NAV 1 Frequency -->

<Element>
  <Position X="300" Y="177"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>NAV 1:</String>
  </Text>
</Element>

<Element>
  <Position X="360" Y="175"/>
  <Text X="70" Y="32" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:NAV Active Frequency:1, Mhz))%!3.3f!</String>
  </Text>
</Element>

<Element>
  <Position X="430" Y="177"/>
  <Text X="35" Y="28" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Mhz</String>
  </Text>
</Element>

<!--  NAV 2 Frequency -->

<Element>
  <Position X="475" Y="177"/>
  <Text X="70" Y="28" Bright="Yes" Length="14" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>NAV 2:</String>
  </Text>
</Element>

<Element>
  <Position X="535" Y="175"/>
  <Text X="70" Y="32" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:NAV Active Frequency:2, Mhz))%!3.3f!</String>
  </Text>
</Element>

<Element>
  <Position X="605" Y="177"/>
  <Text X="35" Y="28" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Mhz</String>
  </Text>
</Element>


</Element>


<!--
===============================================================================
*                                                                             *
*                   Nearest NDB Header Data                                   *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 2 == </Visible>

<!--  Tune Selected NDB on ADF1 -->

<Element>
   <Position X="490" Y="55" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>
     0 s0 (C:fs9gps:NearestNdbCurrentFrequency, khz) (A:ADF Active Frequency:1, khz) == if{ 10 s0 } (A:ADF Signal:1, number) 0 &gt; if{ 1 } els{ 0 } l0 + s0 
    </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="10">
        <Image Name="Display Button Large Yellow.bmp"/>
     </Case>
     <Case Value="11">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>


    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="9" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' '#101010' 'LightGray' l0 10 == ? l0 11 == ? )"
       BackgroundColor="%( '#20E000' 'Yellow'   'Gray'   l0 10 == ? l0 11 == ? )" Bright="Yes">
      <String>TUNE ADF1</String>
      </Text>
     </Element>
  </Element>

  <Element>
   <Position X="120" Y="0" />
   <Select>
    <Value>
     0 s0 (C:fs9gps:NearestNdbCurrentFrequency, khz) (A:ADF Active Frequency:2, khz) == if{ 10 s0 } (A:ADF Signal:2, number) 0 &gt; if{ 1 } els{ 0 } l0 + s0 
    </Value>
     <Case Value="0">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button Large Off.bmp"/>
     </Case>
     <Case Value="10">
        <Image Name="Display Button Large Yellow.bmp"/>
     </Case>
     <Case Value="11">
        <Image Name="Display Button Large On.bmp"/>
     </Case>
    </Select>


    <Element>
      <Position X="4" Y="4"/>
      <Text X="101" Y="35" Length="9" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' '#101010' 'LightGray' l0 10 == ? l0 11 == ? )"
       BackgroundColor="%( '#20E000' 'Yellow'   'Gray'   l0 10 == ? l0 11 == ? )" Bright="Yes">
      <String>TUNE ADF2</String>
      </Text>
     </Element>
  </Element>

  </Element>

<!--  Nearest NDB Ident -->

<Element>
  <Position X="10" Y="77"/>
  <Text X="80" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbCurrentIdent, string))%!.5s!</String>
  </Text>
</Element>

<!--  Nearest NDB Name -->

<Element>
  <Position X="110" Y="77"/>
  <Text X="640" Y="32" Bright="Yes" Length="40" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbSelectedNdbName, string))%!.40s!</String>
  </Text>
</Element>

<!--  NDB Type -->

<Element>
  <Position X="10" Y="104"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>NDB TYPE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="102"/>
  <Text X="420" Y="32" Bright="Yes" Length="40" Font="Century Gothic" 
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbCurrentType, number))%{case}%{:0}UNKNOWN%{:1}COMPASS LOCATOR (15-25 nm)%{:2}DIRECTIONAL BEACON APPROACH (25-50 nm)%{:3}ENROUTE AIRWAY BEACON (50-75 nm)%{:4}HIGH POWER BEACON (75-125 nm)%{end}</String>
  </Text>
</Element>

<!--  Magnetic Bearing -->

<Element>
  <Position X="10" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="8" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>BEARING:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="125"/>
  <Text X="50" Y="32" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="133"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>M</String>
  </Text>
</Element>

<!--  Distance -->

<Element>
  <Position X="300" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DISTANCE:</String>
  </Text>
</Element>

<Element>
  <Position X="450" Y="125"/>
  <Text X="100" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbCurrentDistance, nmiles))%!3.1f!</String>
  </Text>
</Element>

<Element>
  <Position X="500" Y="127"/>
  <Text X="25" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>nm</String>
  </Text>
</Element>

<!--  Latitude -->

<Element>
  <Position X="10" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LATITUDE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="150"/>
  <Text X="100" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbSelectedNdbLatitude, degrees) s1 0 &lt; if{ 'S' } els{ 'N' } )%!1s!  %( l1 abs flr s0 )%!3d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039; </String>
  </Text>
</Element>
       
<!--  Longitude -->

<Element>
  <Position X="10" Y="177"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LONGITUDE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="175"/>
  <Text X="120" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbSelectedNdbLongitude, degrees) s1 0 &lt; if{ 'W' } els{ 'E' } )%!1s!  %( l1 abs flr s0 )%!3d!&#176;%( l1 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039; </String>
  </Text>
</Element>

<!--  Frequency -->

<Element>
  <Position X="300" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FREQUENCY:</String>
  </Text>
</Element>

<Element>
  <Position X="450" Y="150"/>
  <Text X="80" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestNdbCurrentFrequency, Khz))%!3.1f!</String>
  </Text>
</Element>

<Element>
  <Position X="500" Y="152"/>
  <Text X="35" Y="28" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Khz</String>
  </Text>
</Element>

<!--  ADF 1 Frequency -->

<Element>
  <Position X="300" Y="177"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>ADF 1:</String>
  </Text>
</Element>

<Element>
  <Position X="360" Y="175"/>
  <Text X="40" Y="32" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:ADF Active Frequency:1, Khz))%!3d!</String>
  </Text>
</Element>

<Element>
  <Position X="400" Y="177"/>
  <Text X="35" Y="28" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Khz</String>
  </Text>
</Element>

<!--  ADF 2 Frequency -->

<Element>
  <Position X="455" Y="177"/>
  <Text X="50" Y="28" Bright="Yes" Length="14" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>ADF 2:</String>
  </Text>
</Element>

<Element>
  <Position X="515" Y="175"/>
  <Text X="40" Y="32" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((A:ADF Active Frequency:2, Khz))%!3d!</String>
  </Text>
</Element>

<Element>
  <Position X="550" Y="177"/>
  <Text X="35" Y="28" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Khz</String>
  </Text>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest Intersection Heading Data                         *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 3 == </Visible>

<!--  Nearest Intersection Ident -->

<Element>
  <Position X="10" Y="77"/>
  <Text X="80" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestIntersectionCurrentIdent, string))%!.5s!</String>
  </Text>
</Element>

<!--  Intersection Type -->

<Element>
  <Position X="10" Y="104"/>
  <Text X="60" Y="28" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>TYPE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="102"/>
  <Text X="140" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestIntersectionCurrentType, number))%{case}%{:0}UNKNOWN%{:1}NAMED%{:2}UNNAMED%{:3}VOR%{:4}NDB%{:5}OFFROUTE%{:6}IAF{:7}FAF%{end}</String>
  </Text>
</Element>

<!--  Magnetic Bearing -->

<Element>
 <Position X="10" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="8" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>BEARING:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="125"/>
  <Text X="50" Y="32" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestIntersectionCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="133"/>
  <Text X="16" Y="18" Bright="Yes" Length="1" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>M</String>
  </Text>
</Element>


<!--  Distance -->

<Element>
  <Position X="350" Y="127"/>
  <Text X="100" Y="28" Bright="Yes" Length="9" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DISTANCE:</String>
  </Text>
</Element>

<Element>
  <Position X="450" Y="125"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestIntersectionCurrentDistance, nmiles))%!3.1f!</String>
  </Text>
</Element>

<Element>
  <Position X="500" Y="127"/>
  <Text X="25" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>nm</String>
  </Text>
</Element>

<!--  Latitude -->

<Element>
  <Position X="10" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LATITUDE:</String>
  </Text>
  <Shift>
  <Value>
   0 s1
   (C:fs9gps:NearestIntersectionCurrentIdent, string) s2
   l2 'POPAS' scmi 0 == if{ 1 s1 -18.216 s10 }
   l2 'SAPIR' scmi 0 == if{ 1 s1 -18.802 s10 }
   l2 'DUNAK' scmi 0 == if{ 1 s1 -21.428 s10 }
   l2 'NODAD' scmi 0 == if{ 1 s1 -41.728 s10 }
   l2 'ATOLL' scmi 0 == if{ 1 s1 -17.445 s10 }
   l2 'ARTOP' scmi 0 == if{ 1 s1  -0.878 s10 }
   l2 'NEILS' scmi 0 == if{ 1 s1   6.548 s10 }
   l2 'MAZZA' scmi 0 == if{ 1 s1  11.709 s10 }
   l2 'FROTH' scmi 0 == if{ 1 s1  20.858 s10 }
   l2 'IDOCA' scmi 0 == if{ 1 s1  29.917 s10 }

   l1 ! if{ (C:fs9gps:NearestIntersectionSelectedIntLatitude, degrees) s10
            (C:fs9gps:NearestIntersectionSelectedIntLongitude, degrees) s11 }
       els{ 180 s11 }
   0
  </Value>
  </Shift>
</Element>

<Element>
  <Position X="110" Y="150"/>
  <Text X="100" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%( l10 0 &lt; )%{if}S%{else}N%{end}  %( l10 abs flr s0 )%!3d!&#176;%( l10 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;</String>
  </Text>
</Element>

<!--  Longitude -->

<Element>
  <Position X="10" Y="177"/>
  <Text X="100" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>LONGITUDE:</String>
  </Text>
</Element>

<Element>
  <Position X="110" Y="175"/>
  <Text X="130" Y="32" Bright="Yes" Length="12" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%( l11 0 &lt; )%{if}W%{else}E%{end}  %( l11 abs flr s0 )%!3d!&#176;%( l11 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;</String>
  </Text>
</Element>


</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest Airspaces Header Data                             *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 4 == </Visible>

<!--  Nearest Airspace Name -->

<Element>
  <Position X="10" Y="79"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>AIRSPACE NAME:</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="77"/>
  <Text X="640" Y="32" Bright="Yes" Length="30" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirspaceCurrentName, string))%!.30s!</String>
  </Text>
</Element>

<!--  Airspace Type -->

<Element>
  <Position X="10" Y="105"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>AIRSPACE TYPE:</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="104"/>
  <Text X="150" Y="32" Bright="Yes" Length="13" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirspaceCurrentType, number))%{case}%{:0}UNKNOWN%{:1}CENTRE%{:2}CLASS A%{:3}CLASS B%{:4}CLASS C%{:5}CLASS D%{:6}CLASS E%{:7}CLASS F%{:8}CLASS G%{:9}TOWER%{:10}CLEARANCE%{:11}GROUND%{:12}DEPARTURE%{:13}CLASS C%{:14}MOA%{:15}RESTRICTED%{:16}PROHIBITED%{:17}WARNING%{:18}ALERT%{:19}DANGER%{:20}NATIONAL PARK%{:21}MODE C%{:22}RADAR 2%{:23}TRAINING%{end}</String>
  </Text>
</Element>

<!--  Minimum Altitude -->

<Element>
  <Position X="10" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="13" Font="Century Gothic" 
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>MIN ALTITUDE:</String>
  </Text>
</Element>

<Element>
<Visible>(C:fs9gps:NearestAirspaceCurrentMinAltitude, feet) 0 == (C:fs9gps:NearestAirspaceCurrentMaxAltitude, feet) 50000 &gt; &amp;&amp; ! </Visible>

<Element>
  <Position X="140" Y="125"/>
  <Text X="120" Y="32" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirspaceCurrentMinAltitude, feet))%!5d! FEET</String>
  </Text>
</Element>
</Element>

<Element>
<Visible>(C:fs9gps:NearestAirspaceCurrentMinAltitude, feet) 0 == (C:fs9gps:NearestAirspaceCurrentMaxAltitude, feet) 50000 &gt; &amp;&amp;</Visible>

<Element>
  <Position X="120" Y="137"/>
  <Text X="70" Y="36" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>ALL</String>
  </Text>
</Element>
</Element>


<!--  Distance -->

<Element>
  <Position X="300" Y="127"/>
  <Text X="180" Y="28" Bright="Yes" Length="14" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>DISTANCE:</String>
  </Text>
</Element>

<Element>
  <Position X="420" Y="125"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirspaceCurrentNearDistance, nmiles))%!3.1f!</String>
  </Text>
</Element>

<Element>
  <Position X="485" Y="127"/>
  <Text X="25" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>nm</String>
  </Text>
</Element>
     
<!--  Maximum Altitude -->

<Element>
  <Position X="10" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="13" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>MAX ALTITUDE:</String>
  </Text>
</Element>

<Element>
<Visible>(C:fs9gps:NearestAirspaceCurrentMinAltitude, feet) 0 == (C:fs9gps:NearestAirspaceCurrentMaxAltitude, feet) 50000 &gt; &amp;&amp; ! </Visible>

<Element>
  <Position X="140" Y="150"/>
  <Text X="60" Y="32" Bright="Yes" Length="5" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirspaceCurrentMaxAltitude, feet))%!5d!</String>
  </Text>
</Element>

<Element>
  <Position X="200" Y="152"/>
  <Text X="50" Y="28" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FEET</String>
  </Text>
</Element>

</Element>

<!--  Frequency -->

<Element>
<Visible>(C:fs9gps:NearestAirspaceCurrentType, number) 1 == </Visible>

<Element>
  <Position X="300" Y="152"/>
  <Text X="180" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>FREQUENCY:</String>
  </Text>
</Element>

<Element>
  <Position X="415" Y="150"/>
  <Text X="80" Y="32" Bright="Yes" Length="7" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>%((C:fs9gps:NearestAirspaceCurrentFrequency, Mhz))%!3.3f!</String>
  </Text>
</Element>

<Element>
  <Position X="485" Y="152"/>
  <Text X="35" Y="28" Bright="Yes" Length="3" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>Mhz</String>
  </Text>
</Element>


</Element>

<!--  Status -->

<Element>
<Visible>(C:fs9gps:NearestAirspaceCurrentStatus, number) 0 != </Visible>

<Element>
  <Position X="10" Y="180"/>
  <Text X="180" Y="28" Bright="Yes" Length="10" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>STATUS:</String>
  </Text>
</Element>

<Element>
  <Position X="140" Y="178"/>
  <Text X="220" Y="32" Bright="Yes" Length="20" Font="Century Gothic"
   FontWeight="700" Color="%( 'Red' '#20E000' 'Yellow' (C:fs9gps:NearestAirspaceCurrentStatus, number) 1 == ? (C:fs9gps:NearestAirspaceCurrentStatus, number) 4 == ? "
   Adjust="Left" VerticalAdjust="Left" Fixed="No">
  <String>%((C:fs9gps:NearestAirspaceCurrentStatus, number))%{case}%{:1}AIRSPACE BEHIND%{:2}AIRSPACE AHEAD%{:3}\{blnk}AIRSPACE AHEAD &lt; 2nm\{nr}%{:4}INSIDE AIRSPACE%{end}</String>
  </Text>
</Element>

</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest Airports / VORs / Ndbs / Intersections Header     *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(G:Var1) 2 == </Visible>

<Element>
<Visible> (L:GPS1 Direct To Search, bool) ! (L:GPS1 Nearest Selected, number) 4 == ||</Visible>

<Element>
  <Position X="0" Y="206"/>
  <Text X="725" Y="32" Bright="Yes" Length="21" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Center" VerticalAdjust="Center" Fixed="No">
  <String>NEAREST %((L:GPS1 Nearest Selected, number))%{case}%{:0}AIRPORTS%{:1}VORs%{:2}NDBs%{:3}INTERSECTIONS%{:4}AIRSPACES%{end}</String>
  </Text>
</Element>

</Element>

<Element>
  <Position X="560" Y="206"/>
  <Visible>(L:GPS1 Nearest Selected, number) 0 == (L:GPS1 Direct To Search, bool) &amp;&amp; ! </Visible>

 <Element>
  <Position X="0" Y="2"/>
  <Text X="50" Y="28" Bright="Yes" Length="4" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>PAGE</String>
  </Text>
 </Element>

 <Element>
  <Position X="40" Y="0"/>
  <Text X="30" Y="32" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Nrs Page Number, number))%!2d!</String>
  </Text>
 </Element>

 <Element>
  <Position X="80" Y="2"/>
  <Text X="30" Y="28" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="Aqua" Adjust="Left" VerticalAdjust="Center" Fixed="No">
  <String>OF</String>
  </Text>
 </Element>

 <Element>
  <Position X="100" Y="0"/>
  <Text X="30" Y="32" Bright="Yes" Length="2" Font="Century Gothic"
   FontWeight="700" Color="White" Adjust="Right" VerticalAdjust="Center" Fixed="No">
  <String>%((L:GPS1 Sel Items, number) (L:GPS1 Lines per Page, number) / ceil )%!2d!</String>
  </Text>
 </Element>

</Element>


</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest Airport Loop                                      *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 0 == (L:GPS1 Direct To Search, bool) ! &amp;&amp;</Visible>

<Element id="Airport Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="26,58,130,350R,400R,480R,500,650R" Fixed="Yes">
  <String>\tNAME \tTYPE \tDISTANCE \tBRG \tRUNWAY \tAPPR \tFREQUENCY</String>
  </FormattedText>
</Element>

<Element id="Airports Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,350R,400R,480R,500,650R" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * s1 10 + (C:fs9gps:NearestAirportItemsNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:NearestAirportCurrentLine, number))
      %((L:GPS1 Nrs Sel Index, number) l1 == )%{if}\{img1} \{rev} %{else}\{nr} \{img2} %{end} \t
      %((C:fs9gps:NearestAirportCurrentIdent, string) 0 5 ssub )%!5s! \t
      %((C:fs9gps:NearestAirportCurrentAirportKind, number))%{case}%{:0}UNKNOWN     %{:1}HARD SURFACE%{:2}SOFT SURFACE%{:3}SEAPLANE    %{:4}HELICOPTER%{end} \t
      %((C:fs9gps:NearestAirportCurrentDistance, nmiles))%!4.1f! nm  \t
      %((C:fs9gps:NearestAirportCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;\{dn}M\{md} \t
      %((C:fs9gps:NearestAirportCurrentLongestRunwayLength, feet))%!5d! FT \t
      %((C:fs9gps:NearestAirportCurrentBestApproach, string))%!3s! \t
      %((C:fs9gps:NearestAirportCurrentComFrequencyValue, mhz))%!3.3f! Mhz \t
      %((C:fs9gps:NearestAirportCurrentComFrequencyName, string) uc )%!3s!\{nr}
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest VOR Loop                                          *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 1 == (L:GPS1 Direct To Search, bool) ! &amp;&amp;</Visible>

<Element id="VOR Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="31,58,130,300R,350R,360,480" Fixed="Yes">
  <String>\tNAME \tTYPE \tDISTANCE \tBRG \tFREQUENCY \tLOCATION</String>
  </FormattedText>
</Element>

<Element id="VORs Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,300R,350R,360,480" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <Image Name="Green Box.bmp" />
  <Image Name="Yellow Box.bmp" />
  <String>
   %((L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * s1 10 + (C:fs9gps:NearestVORItemsNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:NearestVORCurrentLine, number))
      %(l1 (&gt;C:fs9gps:NearestVORSelectedVor, number))
      %((L:GPS1 Nrs Sel Index, number) l1 == )%{if}\{img1} \{rev} %{else}\{nr} \{img2} %{end}
      %( 0 s3 s4 )
      %((C:fs9gps:NearestVORCurrentFrequency, mhz) (A:Nav Active Frequency:1, mhz) == if{ 10 s3 } (A:Nav has Nav:1, bool) abs l3 + s3 )
      %((C:fs9gps:NearestVORCurrentFrequency, mhz) (A:Nav Active Frequency:2, mhz) == if{ 10 s4 } (A:Nav has Nav:2, bool) abs l4 + l3 max s3 )
      %( l3 10 == )%{if}\{img4}%{end}
      %( l3 11 == )%{if}\{img3}%{end} \t
      %((C:fs9gps:NearestVORCurrentIdent, string) 0 5 ssub )%!.5s! \t
      %((C:fs9gps:NearestVORCurrentType, number))%{case}%{:0}UNKNOWN%{:1}VOR    %{:2}VOR/DME%{:3}DME    %{end} \t
      %((C:fs9gps:NearestVORCurrentDistance, nmiles))%!4.1f! nm  \t
      %((C:fs9gps:NearestVORCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;\{dn}M\{md} \t
      %((C:fs9gps:NearestVORCurrentFrequency, mhz))%!3.3f! Mhz \ \t
      %((C:fs9gps:NearestVorSelectedVorName, string))%!.25s! \{nr}
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest NDB Loop                                          *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 2 == (L:GPS1 Direct To Search, bool) ! &amp;&amp;</Visible>

<Element id="NDB Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="26,58,130,310R,360R,370,480" Fixed="No">
  <String>\tNAME \tTYPE \tDISTANCE \tBRG \tFREQUENCY \tLOCATION</String>
  </FormattedText>
</Element>

<Element id="NDBs Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,310R,360R,370,480" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <Image Name="Green Box.bmp" />
  <Image Name="Yellow Box.bmp" />
  <String>
   %((L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * s1 10 + (C:fs9gps:NearestNdbItemsNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:NearestNdbCurrentLine, number))
      %(l1 (&gt;C:fs9gps:NearestNdbSelectedNdb, number))
      %((L:GPS1 Nrs Sel Index, number) l1 == )%{if}\{img1}\{rev}%{else}\{nr} \{img2}%{end}
      %( 0 s3 s4 )
      %((C:fs9gps:NearestNdbCurrentFrequency, khz) (A:ADF Active Frequency:1, khz) == if{ 10 s3 } (A:ADF Signal:1, bool) 0 &gt; l3 ++ s3 )
      %((C:fs9gps:NearestNdbCurrentFrequency, khz) (A:ADF Active Frequency:2, khz) == if{ 10 s4 } (A:ADF Signal:2, bool) 0 &gt; l4 ++ l3 max s3 )
      %( l3 10 == )%{if} \{img4}%{end}
      %( l3 11 == )%{if} \{img3}%{end} \t
      %((C:fs9gps:NearestNdbCurrentIdent, string) 0 5 ssub )%!.5s! \t
      %((C:fs9gps:NearestNdbCurrentType, number))%{case}%{:0}UNKNOWN %{:1}COMPASS  %{:2}APPROACH%{:3}ENROUTE %{:4}HIGH PWR%{end} \t
      %((C:fs9gps:NearestNdbCurrentDistance, nmiles))%!4.1f! nm  \t
      %((C:fs9gps:NearestNdbCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;\{dn}M\{md} \t
      %((C:fs9gps:NearestNdbCurrentFrequency, Khz))%!3d! Khz \t
      %((C:fs9gps:NearestNdbSelectedNdbName, string))%!.25s! \{nr}
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest Intersection Loop                                 *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 3 == (L:GPS1 Direct To Search, bool) ! &amp;&amp;</Visible>

<Element id="Intersection Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="21,58,130,300R,360R,370,470" Fixed="No">
  <String>\tNAME \tTYPE \tDISTANCE \tBRG \tLATITUDE \tLONGITUDE</String>
  </FormattedText>
</Element>

<Element id="Intersections Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,300R,360R,370,382,470,490" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * s1 10 + (C:fs9gps:NearestIntersectionItemsNumber) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:NearestIntersectionCurrentLine))
      %((L:GPS1 Nrs Sel Index, number) l1 == )%{if}\{img1} \{rev} %{else}\{nr} \{img2} %{end} \t
      %((C:fs9gps:NearestIntersectionCurrentIdent, string))%!.5s! \t
      %((C:fs9gps:NearestIntersectionCurrentType, number))%{case}%{:0}UNKNOWN %{:1}NAMED   %{:2}UNNAMED %{:3}VOR     %{:4}NDB     %{:5}OFFROUTE%{:6}IAF     {:7}FAF     %{end} \t
      %((C:fs9gps:NearestIntersectionCurrentDistance, nmiles))%!4.1f! nm  \t
      %((C:fs9gps:NearestIntersectionCurrentTrueBearing, degrees) (A:Magvar, degrees) - dnor )%!03d!&#176;\{dn}M\{md} \t
      %( 0 s6 (C:fs9gps:NearestIntersectionCurrentIdent, string) s3 'POPAS' scmi 0 == )%{if}%( 1 s6 -18.216 s4 180 s5 )%{end}
      %( l3 'SAPIR' scmi 0 == )%{if}%( 1 s6 -18.802 s4 180 s5 )%{end}
      %( l3 'DUNAK' scmi 0 == )%{if}%( 1 s6 -21.428 s4 180 s5 )%{end}
      %( l3 'NODAD' scmi 0 == )%{if}%( 1 s6 -41.728 s4 180 s5 )%{end}
      %( l3 'ATOLL' scmi 0 == )%{if}%( 1 s6 -17.445 s4 180 s5 )%{end}
      %( l3 'ARTOP' scmi 0 == )%{if}%( 1 s6  -0.878 s4 180 s5 )%{end}
      %( l3 'NEILS' scmi 0 == )%{if}%( 1 s6   6.548 s4 180 s5 )%{end}
      %( l3 'MAZZA' scmi 0 == )%{if}%( 1 s6  11.709 s4 180 s5 )%{end}
      %( l3 'FROTH' scmi 0 == )%{if}%( 1 s6  20.858 s4 180 s5 )%{end}
      %( l3 'IDOCA' scmi 0 == )%{if}%( 1 s6  29.917 s4 180 s5 )%{end}
      %( l6 0 == )%{if}%((C:fs9gps:NearestIntersectionSelectedIntLatitude, degrees) s4 (C:fs9gps:NearestIntersectionSelectedIntLongitude, degrees) s5 )%{end}
      %( l1 (&gt;C:fs9gps:NearestIntersectionSelectedIntersection, number))
      %( l4 0 &lt; )%{if}S%{else}N%{end}  %( l4 abs flr s0 )%!2d!&#176; %( l4 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;\t 
      %( l5 0 &lt; )%{if}W%{else}E%{end}  %( l5 abs flr s0 )%!3d!&#176; %( l5 abs l0 - abs 60 * 10 * near 10 / )%!3d!&#039;\{nr}
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest Airspaces Loop                                    *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Nearest Selected, number) 4 == </Visible>

<Element id="Airspace Headings">
  <Position X="0" Y="235"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="26,58,160,420R,500R,590R,610" Fixed="No">
  <String>\tTYPE \tNAME \tMIN ALT \tMAX ALT \tDISTANCE \tSTATUS</String>
  </FormattedText>
</Element>

<Element id="Airspaces Loop">
<Position X="0" Y="262"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,160,420R,500R,590R,610" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * s1 10 + (C:fs9gps:NearestAirspaceItemsNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:NearestAirspaceCurrentLine, number))\t
      %((L:GPS1 Nrs Sel Index, number) l1 == )%{if} \{img1}\{rev}%{else}\{nr} \{img2}%{end} \t
      %((C:fs9gps:NearestAirspaceCurrentType, number))%{case}%{:0}UNKNOWN%{:1}CENTRE%{:2}CLASS A%{:3}CLASS B%{:4}CLASS C%{:5}CLASS D%{:6}CLASS E%{:7}CLASS F%{:8}CLASS G%{:9}TOWER%{:10}CLEARANCE%{:11}GROUND%{:12}DEPARTURE%{:13}CLASS C%{:14}MOA%{:15}RESTRICTED%{:16}PROHIBITED%{:17}WARNING%{:18}ALERT%{:19}DANGER%{:20}NATIONAL PARK%{:21}MODE C%{:22}RADAR 2%{:23}TRAINING%{end} \t
      %((C:fs9gps:NearestAirspaceCurrentName, string))%!.20s! \t
      %((C:fs9gps:NearestAirspaceCurrentMinAltitude, feet))%!5d! FT \t 
      %((C:fs9gps:NearestAirspaceCurrentMaxAltitude, feet))%!5d! FT \t
      %((C:fs9gps:NearestAirspaceCurrentNearDistance, nmiles))%!4.1f! nm  \t
      %((C:fs9gps:NearestAirspaceCurrentStatus, number))%{case}%{:0}NONE%{:1}BEHIND%{:2}AHEAD%{:3}NEAR AHEAD%{:4}INSIDE%{end}\{nr}
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Nearest Selection Buttons                                 *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible> (G:Var1) 2 == (L:GPS1 Direct To Search, bool) ! &amp;&amp;</Visible>

<!--  Airports Selection -->

<Element>
   <Position X="8" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Nearest Selected, number) 0 == </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 Nearest Selected, number) 0 == ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Nearest Selected, number) 0 == ? )" Bright="Yes">
      <String>AIRPORTS</String>
      </Text>
     </Element>

  </Element>

<!--  VORs Selection -->

<Element>
   <Position X="110" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Nearest Selected, number) 1 == </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="4" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 Nearest Selected, number) 1 == ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Nearest Selected, number) 1 == ? )" Bright="Yes">
      <String>VORs</String>
      </Text>
     </Element>

  </Element>

<!--  NDBs Selection -->

<Element>
   <Position X="212" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Nearest Selected, number) 2 == </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="4" Fixed="No" FontWeight="700"
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 Nearest Selected, number) 2 == ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Nearest Selected, number) 2 == ? )" Bright="Yes">
      <String>NDBs</String>
      </Text>
     </Element>

  </Element>

<!--  Intersections Selection -->

<Element>
   <Position X="314" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Nearest Selected, number) 3 == </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

   <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="9" Fixed="No" FontWeight="700" 
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 Nearest Selected, number) 3 == ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Nearest Selected, number) 3 == ? )" Bright="Yes">
      <String>ISECTIONS</String>
      </Text>
     </Element>


  </Element>

<!--  Airspaces Selection -->

<Element>
   <Position X="416" Y="538" />

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 Nearest Selected, number) 4 == </Value>
     <Case Value="0">
        <Image Name="Display Button Off.bmp"/>
     </Case>
     <Case Value="1">
        <Image Name="Display Button On.bmp"/>
     </Case>
    </Select>
  </Element>

    <Element>
      <Position X="4" Y="4"/>
      <Text X="91" Y="35" Length="7" Fixed="No" FontWeight="700" 
       Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
                 Color="%( 'White' 'LightGray' (L:GPS1 Nearest Selected, number) 4 == ? )"
       BackgroundColor="%( '#20E000' 'Gray'    (L:GPS1 Nearest Selected, number) 4 == ? )" Bright="Yes">
      <String>ASPACES</String>
      </Text>
     </Element>

  </Element>

</Element>

<!--  Previous Page -->

<Element>
   <Position X="518" Y="538" />
   <Visible>(L:GPS1 Button 6 Visibility, bool)</Visible> 

  <Element>
   <Image Name="Display Button Off.bmp"/>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700" 
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Bright="Yes"
     Color="%( 'White' 'LightGray' (L:GPS1 Wpt Page Number, number) 1 &gt; ? )" BackgroundColor="Gray">
    <String>PRV PAGE</String>
    </Text>
   </Element>

</Element>

<!--  Display Next Page -->

<Element>
   <Position X="620" Y="538" />
   <Visible>(L:GPS1 Button 7 Visibility, bool)</Visible> 

  <Element>
   <Position X="0" Y="0" />
   <Image Name="Display Button Off.bmp"/>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="8" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Bright="Yes"
     Color="%( 'White' 'LightGray' (C:fs9gps:FlightPlanWaypointsNumber, number) (L:GPS1 Lines per Page, number) / ceil  (L:GPS1 Wpt Page Number, number) == ? )" BackgroundColor="Gray" >
    <String>NXT PAGE</String>
    </Text>
  </Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Enter Direct To                                           *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Direct To Search, bool)</Visible>

<Element>
<Position X="10" Y="203"/>

  <Element>
    <Position X="0" Y="5"/>
    <Text X="150" Y="32" Length="16" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Bright="Yes"
     Color="White" BackgroundColor="Gray" >
    <String>ENTER ICAO CODE:</String>
    </Text>
  </Element>

  <Element>
   <Visible>(L:GPS1 Nearest Selected, number) 0 == </Visible>

  <Element>
    <Position X="270" Y="5"/>
    <Text X="160" Y="32" Length="16" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Bright="Yes"
     Color="White" BackgroundColor="Gray" >
    <String>OR AIRPORT NAME:</String>
    </Text>
  </Element>
  </Element>

<Element>
  <Visible>(L:GPS1 Enter Direct To ICAO, bool)</Visible>

  <Element>
    <Position X="168" Y="0"/>
    <Rectangle LineWidth="3" Width="75" Height="37" Color="Red" />
  </Element>

  <Element>
  <Visible>(C:fs9gps:IcaoSearchCurrentIdent, string) 0 3 ssub '002' scmp 0 != </Visible>

  <Element>
    <Position X="173" Y="5"/>
    <Text X="80" Y="32" Length="5" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Bright="Yes"
     Color="White">
    <String>%((C:fs9gps:IcaoSearchCurrentIdent))%!.5s!</String>
    </Text>
  </Element>
 </Element>

</Element>


<Element>
  <Visible>(L:GPS1 Enter Direct To Name, bool)</Visible>
  <Element>
    <Position X="435" Y="0"/>
    <Rectangle LineWidth="3" Width="160" Height="37" Color="Red" />
  </Element>

  <Element>
    <Position X="440" Y="5"/>
    <Text X="210" Y="32" Length="20" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Bright="Yes"
     Color="White">
    <String>%((C:fs9gps:NameSearchCurrentName))%!.20s!</String>
    </Text>
  </Element>
</Element>


</Element>


</Element>

<!--
===============================================================================
*                                                                             *
*                   ICAO Loop                                                 *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Enter Direct To ICAO, bool)</Visible>

<Element id="ICAO Headings">
  <Position X="0" Y="240"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="21,58,130,250,570" Fixed="Yes">
  <String>\tIDENT \tTYPE \tLOCATION\tREGION</String>
  </FormattedText>
</Element>

<Element id="ICAO Loop">
<Position X="0" Y="267"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,250,570" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %((L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * s1 10 + (C:fs9gps:IcaoSearchMatchedIcaosNumber, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:IcaoSearchMatchedIcao))
      %((L:GPS1 Nrs Sel Index, number) l1 == )%{if}\{img1} \{rev} %{else}\{nr} \{img2} %{end} \t
      %((C:fs9gps:IcaoSearchCurrentIcao, string))%!.5s! \t
      %((C:fs9gps:IcaoSearchCurrentIcaoType, string) 0 1 ssub ord )%{case}%{:65}AIRPORT%{:78}NDB%{:86}VOR%{:87}INTERSECTION%{:88}NDB X%{end} \t
      %((C:fs9gps:IcaoSearchCurrentIcaoType, string) 0 1 ssub ord  65 == if{ (C:fs9gps:FacilityName, string) ', ' scat (C:fs9gps:FacilityCity, string) scat } els{ '' } )%!.50s!

      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 65 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:71}SOLOMON ISLANDS%{:78}NAURU%{:89}PAPUA NEW GUINEA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 66 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:71}GREENLAND%{:73}ICELAND%{:75}KOSOVO%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 67 == if{ 65 } els{ 99 } )%{case}%{:65}CANADA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 68 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}ALGERIA%{:66}BENIN%{:70}BURKINA FASO%{:71}GHANA%{:73}IVORY COAST%{:78}NIGERIA%{:82}NIGER%{:84}TUNISIA%{:88}TOGO%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 69 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:66}BELGIUM%{:68}GERMANY (CIVIL)%{:69}ESTONIA%{:70}FINLAND%{:71}UNITED KINGDOM%{:72}NETHERLANDS%{:73}IRELAND%{:75}DENMARK%{:76}LUXEMBOURG%{:78}NORWAY%{:80}POLAND%{:83}SWEDEN%{:84}GERMANY (MILITARY)%{:86}LATVIA%{:89}LITHUANIA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 70 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}SOUTH AFRICA%{:66}BOTSWANA%{:67}REP. CONGO%{:68}SWAZILAND%{:69}CENTRAL AFRICAN REP.%{:71}EQUATORIAL GUINEA%{:72}ASCENSION ISLAND%{:73}MAURITIUS%{:74}BRITISH INDIAN OCEAN TERR.%{:75}CAMEROON%{:76}ZAMBIA%{:77}COMOROS/MADAGASGAR/REUNION%{:78}ANGOLA%{:79}GABON%{:80}SAO TOME AND PRINCIPE%{:81}MOZAMBIQUE%{:83}SEYCHELLES%{:84}TCHAD%{:86}ZIMBABWE%{:87}MALAWI%{:88}LESOTHO%{:89}NAMIBIA%{:90}DEM. CONGO%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 71 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}MALI%{:66}GAMBIA%{:67}CANARY ISLANDS%{:69}CEUTA AND MELILLA%{:70}SIERRA LEONE%{:71}GUINEA-BISSAU%{:76}LIBERIA%{:77}MOROCCO%{:79}SENEGAL%{:81}MAURITANIA%{:83}WESTERN SAHARA%{:85}GUINEA%{:86}CAPE VERDE%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 72 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}ETHIOPA%{:66}BURUNDI%{:67}SOMALIA%{:68}DJIBOUTI%{:69}EGYPT%{:70}DJIBOUTI%{:72}ERITREA%{:75}KENYA%{:76}LIBYA%{:82}RWANDA%{:83}SUDAN%{:84}TANZANIA%{:85}UGANDA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 75 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:49}USA PAC. NORTHWEST%{:50}USA PAC. SOUTHWEST%{:51}USA MID WEST%{:52}USA SOUTH MID WEST%{:53}USA GREAT LAKES%{:54}USA EAST COAST%{:55}USA ATLANTIC SOUTHEAST%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 76 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}ALBANIA%{:66}BULGARIA%{:67}CYPRUS%{:68}CROATIA%{:69}SPAIN%{:70}FRANCE/ST PIERRE AND MIQUELON%{:71}GREECE%{:72}HUNGARY%{:73}ITALY%{:74}SLOVENIA%{:75}CZECH REP.%{:76}ISRAEL%{:77}MALTA%{:78}MONACO%{:79}AUSTRIA%{:80}PORTUGAL%{:81}BOSNIA AND HERZEGOVINA%{:82}ROUMANIA%{:83}SWITZERLAND%{:84}TURKEY%{:85}MOLDOVA%{:86}PALESTINE%{:87}MACEDONIA%{:88}GIBRALTAR%{:89}SERBIA/MONTENEGRO%{:90}SLOVAKIA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 77 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:66}TURKS AND CAICOS ISLANDS%{:68}DOMINICAN REP.%{:71}GUATEMALA%{:72}HONDURAS%{:75}JAMAICA%{:77}MEXICO%{:78}NICARAGUA%{:80}PANAMA%{:82}COSTA RICA%{:83}EL SALVADOR%{:84}HAITI%{:85}CUBA%{:87}CAYMAN ISLANDS%{:89}BAHAMAS%{:90}BELIZE%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 78 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:67}COOK ISLANDS%{:70}FIJI/TONGA%{:71}KIRIBATI/TUVALU%{:73}NIUE%{:76}WALLIS AND FUTUNA%{:83}SAMOA/AMERICAN SAMOA%{:84}FRENCH POLYNESIA%{:86}VANUATU%{:87}NEW CALEDONIA%{:90}NEW ZEALAND/ANTARCTICA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 79 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}AFGANISTAN%{:66}BAHRAIN%{:69}SAUDI ARABIA%{:73}IRAN%{:74}JORDAN%{:75}KUWAIT%{:76}LEBANON%{:77}UNITED ARAB EMIRATES%{:79}OMAN%{:80}PAKISTAN%{:82}IRAQ%{:83}SYRIA%{:84}QATAR%{:89}YEMEN%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 80 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}ALASKA%{:66}BAKER ISLAND%{:67}KIRIBATI%{:70}FORT YUKON, ALASKA%{:71}GUAM%{:72}HAWAII%{:74}JOHNSTON ATOLL%{:75}MARSHALL ISLANDS%{:76}LINE ISLANDS, KIRIBATI%{:77}MIDWAY ISLAND%{:78}OLIKTOK POINT, ALASKA%{:79}POINT LAY, ALASKA%{:84}MICRONESIA/PALAU%{:87}WAKE ISLAND%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 82 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:67}TAIWAN%{:74}JAPAN%{:75}SOUTH KOREA%{:79}OKINAWA%{:80}PHILIPPINES%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 83 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}ARGENTINA%{:66}BRAZIL%{:67}CHILE%{:68}BRAZIL%{:69}ECUADOR%{:70}FALKLAND ISLANDS%{:71}PARAGUAY%{:73}BRAZIL%{:74}BRAZIL%{:75}COLOMBIA%{:76}BOLIVIA%{:77}SURINAM%{:78}BRAZIL%{:79}FRENCH GUIANA%{:80}PERU%{:83}BRAZIL%{:85}URUGUAY%{:86}VENEZUELA%{:87}BRAZIL%{:89}GUYANA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 84 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}ANTIGUA AND BARBUDA%{:66}BARBADOS%{:68}DOMINICA%{:70}GUADELOUPE%{:71}GRENADA%{:73}US VIRGIN ISLANDS%{:74}PUERTO RICO%{:75}ST KITTS AND NEVIS%{:76}SAINT LUCIA%{:78}NETHERLANDS ANTILLES/ARUBA%{:81}ANGUILLA%{:82}MONTSERRAT%{:84}TRINIDAD AND TOBAGO%{:85}BRITISH VIRGIN ISLANDS%{:86}ST VINCENT AND THE GRENADINES%{:88}BERMUDA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 85 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord s0 65 84 l0 rng ! if{ 88 s0 } } els{ 99 } )%{case}%{:65}KAZAKHSTAN%{:66}AZERBAIJAN%{:68}ARMENIA%{:69}RUSSIA%{:71}GEORGIA%{:72}RUSSIA%{:73}RUSSIA%{:75}UKRAINE%{:76}RUSSIA%{:77}BELARUS/KALINIGRAD%{:78}RUSSIA%{:79}RUSSIA%{:80}RUSSIA%{:82}RUSSIA%{:83}RUSSIA%{:84}TADJIK/TURKMEN/UZBEKISTAN%{:85}RUSSIA%{:86}RUSSIA%{:88}RUSSIA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 86 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}INDIA WEST%{:67}SRI LANKA%{:68}CAMBODIA%{:69}INDIA EAST%{:71}BANGLA DESH%{:72}HONG KONG%{:73}INDIA NORTH%{:76}LAOS%{:77}MACAU%{:78}NEPAL%{:79}INDIA SOUTH%{:81}BHUTAN%{:82}MALDIVES%{:84}THAILAND%{:86}VIETNAM%{:89}BURMA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 87 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:65}INDONESIA%{:66}EAST MALAYSIA/BRUNEI%{:73}INDONESIA%{:77}WEST MALAYSIA%{:80}EAST TIMOR%{:81}INDONESIA%{:82}INDONESIA%{:83}SINGAPORE%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 89 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord } els{ 99 } )%{case}%{:66}AUSTRALIA N.T./QLD%{:77}AUSTRALIA%{end}
      %((C:fs9gps:IcaoSearchCurrentIcao, string) 1 1 ssub ord 90 == if{ (C:fs9gps:IcaoSearchCurrentIcao, string) 2 1 ssub ord s0 75 77 l0 rng ! if{ 88 s0 } } els{ 99 } )%{case}%{:75}NORTH KOREA%{:76}CHINA%{:77}MONGOLIA%{:88}CHINA%{end}\t
      %((C:fs9gps:IcaoSearchCurrentIcaoRegion, string))%!2s!
\n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>l
</Element>


<!--
===============================================================================
*                                                                             *
*                   Name Loop                                                 *
*                                                                             *
===============================================================================
 -->

<Element>
<Visible>(L:GPS1 Enter Direct To Name, bool)</Visible>

<Element id="Name Headings">
  <Position X="0" Y="240"/>
  <FormattedText X="800" Y="26" Bright="Yes" FontSize="24" Font="Century Gothic" FontWeight="700" Color="Aqua" Adjust="Left"
   VerticalAdjust="Center" Tabs="21,58,130,250,470,570" Fixed="Yes">
  <String>\tIDENT \tTYPE \tNAME</String>
  </FormattedText>
</Element>

<Element id="Name Loop">
<Position X="0" Y="267"/>
  <FormattedText X="725" Y="302" FontWeight="700"  FontSize="24" LineSpacing="26" MultiLine="Yes"
   Font="Century Gothic" Tabs="0,21,58,130,250,470,570" Color="White" Bright="Yes" Adjust="Left" Fixed="Yes">
  <Image Name="CHK Green Tick.bmp" />
  <Image Name="CHK Grey Square.bmp" />
  <String>
   %(1 s1 (C:fs9gps:NameSearchCurrentMatch, number) min s2 0 &gt; )
   %{if}
   %{loop}
      %(l1 (&gt;C:fs9gps:NameSearchCurrentMatch))
      %((L:GPS1 Nrs Sel Index, number) ++ l1 == )%{if}\{img1} \{rev} %{else}\{nr} \{img2} %{end} \t
      %((C:fs9gps:NameSearchCurrentIcao, string))%!.5s! \tAIRPORT\t
      %((C:fs9gps:NameSearchCurrentName, string))%!.50s!
      \n
      %(l1 ++ s1 l2 &lt; )
      %{next}
   %{end}
  </String>
 </FormattedText>
</Element>

</Element>

<Element>
   <Position X="420" Y="538" />
  <Visible>(L:GPS1 Direct To Search, bool) (L:GPS1 Nrs Sel Index, number) 0 &gt;= &amp;&amp;</Visible>

  <Element>
   <Position X="0" Y="0" />
   <Image Name="Display Button Off.bmp" Bright="Yes"/>
  </Element>

  <Element>
    <Position X="4" Y="4"/>
    <Text X="91" Y="35" Length="7" Fixed="No" FontWeight="700"
     Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
     Color="LightGray" BackgroundColor="Gray" Bright="Yes">
    <String>CONFIRM</String>
    </Text>
  </Element>

</Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   MAP (3)                                                   *
*                                                                             *
===============================================================================
 -->

<Element id="MAP Options">
 <Visible> (G:Var1) 3 == </Visible>
 <Position X="37" Y="41"/>

<Element id="Basic Map">
<Position X="0" Y="0"/>
<CustomDraw Name="fs9gps:1:map" X="720" Y="584" LayerTerrain="Yes"
            ActiveColorLayerFlightPlan="0x7010B0" BackgroundColor="0x000001"
            PastColorLayerFlightPlan="0xF0F0F0" ColorLayerFlightPlan="0xF0F0F0" Priority="Yes"
            Bright="Yes">

        <Zoom>(L:GPS1 MAP Range, number) 0.6348 * 1852 *</Zoom>
        <Latitude>(A:Plane Latitude, Radians)</Latitude>
        <Longitude>(A:Plane Longitude, Radians)</Longitude>
        <Heading>(A:GPS Ground True Heading, radians)</Heading>
        <TrackUp>(L:GPS1 North Up, bool) ! </TrackUp>
        <CenterX>(L:GPS1 CentreX, number)</CenterX>
        <CenterY>(L:GPS1 CentreY, number)</CenterY>
        <FlightPlanLineWidth>(L:GPS1 Linewidth, number)</FlightPlanLineWidth>

<!--    Colours  --> 
        <WaterColor>0x783C30</WaterColor>
        <IceColor>0xF8F8F8</IceColor>
        <Elevation17000Color>
         (L:GPS1 MAP Terrain, number) s1
         (A:Plane Altitude, feet) near s2
         l1 1 == if{ 0x30465C } els{ 0x080808 }
         l1 2 == if{ 18000 18999 l2 rng if{ 0x0FF532 }
                     17000 17999 l2 rng if{ 0x008800 }
                     16000 16999 l2 rng if{ 0x00FFFF }
                     15000 15999 l2 rng if{ 0x006F7C }
                     l2 15000 &lt;      if{ 0x0000FF } }
        </Elevation17000Color>

        <Elevation16000Color>
         l1 1 == if{ 0x37597D } els{ 0x080808 }
         l1 2 == if{ 17000 17999 l2 rng if{ 0x0FF532 }
                     16000 16999 l2 rng if{ 0x008800 }
                     15000 15999 l2 rng if{ 0x00FFFF }
                     14000 14999 l2 rng if{ 0x006F7C }
                     l2 14000 &lt;      if{ 0x0000FF } }
        </Elevation16000Color>

        <Elevation15000Color>
         l1 1 == if{ 0x37597D } els{ 0x080808 }
         l1 2 == if{ 16000 16999 l2 rng if{ 0x0FF532 }
                     15000 15999 l2 rng if{ 0x008800 }
                     14000 14999 l2 rng if{ 0x00FFFF }
                     13000 13999 l2 rng if{ 0x006F7C }
                     l2 13000 &lt;      if{ 0x0000FF } }
        </Elevation15000Color>

        <Elevation14000Color>
         l1 1 == if{ 0x37597D } els{ 0x080808 }
         l1 2 == if{ 15000 15999 l2 rng if{ 0x0FF532 }
                     14000 14999 l2 rng if{ 0x008800 }
                     13000 13999 l2 rng if{ 0x00FFFF }
                     12000 12999 l2 rng if{ 0x006F7C }
                     l2 12000 &lt;      if{ 0x0000FF } }
        </Elevation14000Color>

        <Elevation13000Color>
         l1 1 == if{ 0x37597D } els{ 0x080808 }
         l1 2 == if{ 14000 14999 l2 rng if{ 0x0FF532 }
                     13000 13999 l2 rng if{ 0x008800 }
                     12000 12999 l2 rng if{ 0x00FFFF }
                     11000 11999 l2 rng if{ 0x006F7C }
                     l2 11000 &lt;      if{ 0x0000FF } }
        </Elevation13000Color>

        <Elevation12000Color>
         l1 1 == if{ 0x3B6A92 } els{ 0x080808 }
         l1 2 == if{ 13000 13999 l2 rng if{ 0x0FF532 }
                     12000 12999 l2 rng if{ 0x008800 }
                     11000 11999 l2 rng if{ 0x00FFFF }
                     10000 10999 l2 rng if{ 0x006F7C }
                     l2 10000 &lt;      if{ 0x0000FF } }
        </Elevation12000Color>

        <Elevation11000Color>
         l1 1 == if{ 0x3B6A92 } els{ 0x080808 }
         l1 2 == if{ 12000 12999 l2 rng if{ 0x0FF532 }
                     11000 11999 l2 rng if{ 0x008800 }
                     10000 10999 l2 rng if{ 0x00FFFF }
                      9000  9999 l2 rng if{ 0x006F7C }
                     l2  9000 &lt;      if{ 0x0000FF } }
        </Elevation11000Color>

        <Elevation10000Color>
         l1 1 == if{ 0x3B6A92 } els{ 0x080808 }
         l1 2 == if{ 11000 11999 l2 rng if{ 0x0FF532 }
                     10000 10999 l2 rng if{ 0x008800 }
                      9000  9999 l2 rng if{ 0x00FFFF }
                      8000  8999 l2 rng if{ 0x006F7C }
                     l2  8000 &lt;      if{ 0x0000FF } }
        </Elevation10000Color>

        <Elevation9000Color>
         l1 1 == if{ 0x477B9B } els{ 0x080808 }
         l1 2 == if{ 10000 10999 l2 rng if{ 0x0FF532 }
                      9000  9999 l2 rng if{ 0x008800 }
                      8000  8999 l2 rng if{ 0x00FFFF }
                      7000  7999 l2 rng if{ 0x006F7C }
                     l2  7000 &lt;      if{ 0x0000FF } }
        </Elevation9000Color>

        <Elevation8000Color>
         l1 1 == if{ 0x477B9B } els{ 0x080808 }
         l1 2 == if{  9000  9999 l2 rng if{ 0x0FF532 }
                      8000  8999 l2 rng if{ 0x008800 }
                      7000  7999 l2 rng if{ 0x00FFFF }
                      6000  6999 l2 rng if{ 0x006F7C }
                     l2  6000 &lt;      if{ 0x0000FF } }
        </Elevation8000Color>

        <Elevation7000Color>
         l1 1 == if{ 0x5C98B2 } els{ 0x080808 }
         l1 2 == if{  8000  8999 l2 rng if{ 0x0FF532 }
                      7000  7999 l2 rng if{ 0x008800 }
                      6000  6999 l2 rng if{ 0x00FFFF }
                      5000  5999 l2 rng if{ 0x006F7C }
                     l2  5000 &lt;      if{ 0x0000FF } }
        </Elevation7000Color>

        <Elevation6000Color>
         l1 1 == if{ 0x5C98B2 } els{ 0x080808 }
         l1 2 == if{  7000  7999 l2 rng if{ 0x0FF532 }
                      6000  6999 l2 rng if{ 0x008800 }
                      5000  5999 l2 rng if{ 0x00FFFF }
                      4000  4999 l2 rng if{ 0x006F7C }
                     l2  4000 &lt;      if{ 0x0000FF } }
        </Elevation6000Color>

        <Elevation5000Color>
         l1 1 == if{ 0x6EB5C7 } els{ 0x080808 }
         l1 2 == if{  6000  6999 l2 rng if{ 0x0FF532 }
                      5000  5999 l2 rng if{ 0x008800 }
                      4000  4999 l2 rng if{ 0x00FFFF }
                      3000  3999 l2 rng if{ 0x006F7C }
                     l2  3000 &lt;      if{ 0x0000FF } }
        </Elevation5000Color>

        <Elevation4000Color>
         l1 1 == if{ 0x6EB5C7 } els{ 0x080808 }
         l1 2 == if{  5000  5999 l2 rng if{ 0x0FF532 }
                      4000  4999 l2 rng if{ 0x008800 }
                      3000  3999 l2 rng if{ 0x00FFFF }
                      2000  2999 l2 rng if{ 0x006F7C }
                     l2  2000 &lt;      if{ 0x0000FF } }
        </Elevation4000Color>

        <Elevation3000Color>
         l1 1 == if{ 0x73C3C8 } els{ 0x080808 }
         l1 2 == if{  4000  4999 l2 rng if{ 0x0FF532 }
                      3000  3999 l2 rng if{ 0x008800 }
                      2000  2999 l2 rng if{ 0x00FFFF }
                      1000  1999 l2 rng if{ 0x006F7C }
                     l2  1000 &lt;      if{ 0x0000FF } }
        </Elevation3000Color>

        <Elevation2000Color>
         l1 1 == if{ 0x549079 } els{ 0x080808 }
         l1 2 == if{  3000  3999 l2 rng if{ 0x0FF532 }
                      2000  2999 l2 rng if{ 0x008800 }
                      1000  1999 l2 rng if{ 0x00FFFF }
                         0   999 l2 rng if{ 0x006F7C }
                     l2  0 &lt;         if{ 0x0000FF } }
        </Elevation2000Color>

        <Elevation1000Color>
         l1 1 == if{ 0x7D9262 } els{ 0x080808 }
         l1 2 == if{  2000  2999 l2 rng if{ 0x0FF532 }
                      1000  1999 l2 rng if{ 0x008800 }
                         0   999 l2 rng if{ 0x00FFFF }
                     -1000    -1 l2 rng if{ 0x006F7C }
                     l2 -1000 &lt;      if{ 0x0000FF } }
        </Elevation1000Color>

        <Elevation0Color>
         l1 1 == if{ 0xA08553 } els{ 0x080808 }
         l1 2 == if{  1000  1999 l2 rng if{ 0x0FF532 }
                         0   999 l2 rng if{ 0x008800 }
                     -1000    -1 l2 rng if{ 0x00FFFF }
                     -2000 -1001 l2 rng if{ 0x006F7C }
                     l2 -2000 &lt;      if{ 0x0000FF } }
        </Elevation0Color>

<!--    Terrain  -->   
	<DetailLayerTerrain>(L:GPS1 MAP Terrain, number) 0 == if{ 1 } els{ 2 } </DetailLayerTerrain>
        <TerrainShadow>(L:GPS1 MAP Terrain, number) 2 == if{ 0 } els{ 1 } </TerrainShadow>

<!--    Waypoints  --> 
        <LayerIntersections>(L:GPS1 MAP Range, number) 40 &lt;= if{ (L:GPS1 MAP Display Wpt, bool) } els{ 0 }</LayerIntersections>
	<DetailLayerIntersections>2</DetailLayerIntersections>
        <TextDetailLayerIntersections>(L:GPS1 MAP Display Details, bool)</TextDetailLayerIntersections>

<!--    Airports  --> 
        <LayerAirports>(L:GPS1 MAP Display Airports, bool) ! </LayerAirports>
        <DetailLayerAirports>4</DetailLayerAirports>
        <TextDetailLayerAirports>(L:GPS1 MAP Display Details, bool) if{ 4 } els{ 1 } </TextDetailLayerAirports>
        <ObjectDetailLayerAirports> 0x05 0x1D 0x1F 0x1F 4 (L:GPS1 MAP Range, number) 50 / case s0 (L:GPS1 MAP Range, number) 200 &gt;= if{ 0x05 s0 } l0 </ObjectDetailLayerAirports>
        <ColorLayerAirportsTowered>0xFFFF00</ColorLayerAirportsTowered>

<!--    VORs  --> 
        <LayerVORs>(L:GPS1 MAP Display VORs, bool)</LayerVORs>
        <DetailLayerVORs>2</DetailLayerVORs>
        <TextDetailLayerVORs>(L:GPS1 MAP Display Details, bool) if{ 3 } els{ 1 } </TextDetailLayerVORs>
        <ColorLayerVORs>0x00FFFF</ColorLayerVORs>

<!--    NDBs  --> 
        <LayerNDBs>(L:GPS1 MAP Display NDBs, bool)</LayerNDBs>
        <DetailLayerNDBs>2</DetailLayerNDBs>
        <TextDetailLayerNDBs>(L:GPS1 MAP Display Details, bool) 1 == if{ 3 } els{ 1 } </TextDetailLayerNDBs>

<!--    Airways  --> 
        <LayerAirways>(L:GPS1 MAP Display Victor, bool) (L:GPS1 MAP Display Jet, bool) || </LayerAirways>
        <DetailLayerAirways>1</DetailLayerAirways>
        <TextDetailLayerAirways>1</TextDetailLayerAirways>
        <ObjectDetailLayerAirways>0 s0 (L:GPS1 MAP Display Victor, bool) if{ 1 s0 } (L:GPS1 MAP Display Jet, bool) if{ 2 s0 } (L:GPS1 MAP Display Victor, bool) (L:GPS1 MAP Display Jet, bool) &amp;&amp; if{ 3 s0 } l0 </ObjectDetailLayerAirways>

<!--    ILSs  -->
        <LayerILSs>(L:GPS1 MAP Display Airports, bool) ! </LayerILSs>
        <ObjectDetailLayerILSs>1</ObjectDetailLayerILSs>

<!--    TCAS  -->
        <LayerVehicles>(L:GPS1 MAP Display TCAS, bool)</LayerVehicles>
        <DetailLayerVehicles>(L:GPS1 MAP Display TCAS, bool) if{ 3 } els{ 0 }</DetailLayerVehicles>
        <ObjectDetailLayerVehicles>6</ObjectDetailLayerVehicles>
        <TextDetailLayerVehicles>(L:GPS1 MAP Display Details, bool)</TextDetailLayerVehicles>

<!--    Flight Plan  -->
        <LayerFlightPlan>(L:GPS1 MAP Display Flight Plan, bool) ! </LayerFlightPlan>
        <ObjectDetailLayerFlightPlan>0xF</ObjectDetailLayerFlightPlan>

<!--    Borders  -->
        <LayerBorders>1</LayerBorders>
        <ObjectDetailLayerBorders>2</ObjectDetailLayerBorders>

<!--    Airspaces  -->
        <LayerAirspaces>(L:GPS1 MAP Display Airspaces, bool)</LayerAirspaces>
        <ObjectDetailLayerAirspaces>(L:GPS1 MAP Display Airspaces, bool) if{ 0xEFC038 } els{ 0x000000 } </ObjectDetailLayerAirspaces>
        <ColorLayerAirspaces>(L:GPS1 MAP Terrain, number) 0 == if{ 0x808080 } els{ 0xFFFFFF }</ColorLayerAirspaces>
			
</CustomDraw>
</Element>

<Element>
<Position X="360" Y="460"/>
<Image Name="MAP Aeroplane.bmp" Bright="Yes" Transparent="Yes">
<Axis X="18" Y="18" />
</Image>

 <Rotate>
     <Value>(L:GPS1 North Up, bool) if{ (A:Plane Heading Degrees True, radians) } els{ 0 } </Value>
 </Rotate>

 <Shift>
  <Scale X="1" Y="0"/>
  <Value>
   (L:GPS1 CentreX, number) 360 -
  </Value>
 </Shift>

 <Shift>
  <Scale X="0" Y="1"/>
  <Value>
   (L:GPS1 CentreY, number) 460 -
  </Value>
 </Shift>
</Element>

<Element>
 <Position X="0" Y="0"/>
 <Text X="100" Y="18" Length="13" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>NEXT WAYPOINT</String>
 </Text>
</Element>

<Element>
 <Position X="0" Y="18"/>
 <Text X="100" Y="32" Length="9" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((A:GPS WP Distance, meters) 1852 / )%!3.1f! nm</String>
 </Text>
</Element>

<Element>
 <Position X="140" Y="0"/>
 <Text X="90" Y="18" Length="11" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>DESTINATION</String>
 </Text>
</Element>

<Element>
 <Position X="140" Y="18"/>
 <Text X="90" Y="32" Length="8" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((L:GPS1 Remaining Distance, nmiles) )%!5d! nm</String>
 </Text>
</Element>

<!--
===============================================================================
*                                                                             *
*                   Wind                                                      *
*                                                                             *
===============================================================================
 -->

<Element id="Wind Vector">
<Visible>(A:Ambient Wind Velocity,knots) 5 &gt;= </Visible>
<Position X="100" Y="530"/>

<Element>
 <Position X="30" Y="0"/>
 <Text X="100" Y="18" Length="13" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" Bright="Yes">
 <String>WIND</String>
 </Text>
</Element>


 <Element>
  <Position X="40" Y="15"/>
  <Image Name="Wind Vector Arrow.bmp" Transparent="Yes" Bright="Yes" PointsTo="West">
    <Axis X="6" Y="15"/>
  </Image>
  <Rotate>
     <Value>
      (L:GPS1 North Up, bool) if{ (A:Ambient Wind Direction,degrees) dgrd s0 }
                             els{ (A:Ambient Wind Direction,degrees) dgrd (A:GPS Ground True Heading, radians) - rnor s0 }
       l0
     </Value>
  </Rotate>
</Element>


<Element id="Wind Direction Readout">
  <Position X="4" Y="30"/>
  <Text X="50" Y="28" Length="4" Fixed="No" Font="Century Gothic" FontWeight="700"
   Adjust="Right" VerticalAdjust="Center" Color="White" Bright="Yes" >
  <String>%((A:Ambient Wind Direction,degrees) (A:MAGVAR, degrees) - dnor )%!03d!&#176;</String>
  </Text>
</Element>


<Element id="Wind Speed Readout">
 <Position X="54" Y="30"/>
 <Text X="90" Y="28" Length="8" Fixed="No" Font="Century Gothic" FontWeight="700"
  Adjust="Left" VerticalAdjust="Center" Color="White" Bright="Yes" >
  <String>/%((A:Ambient Wind Velocity,knots))%!1d! kts</String>
 </Text>
</Element>

</Element>

<Element>
 <Position X="331" Y="0"/>
 <Text X="60" Y="18" Length="7" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>HEADING</String>
 </Text>
</Element>

<Element>
 <Position X="331" Y="18"/>
 <Text X="60" Y="32" Length="4" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((A:Plane Heading Degrees Magnetic, radians) rddg dnor)%!03d!&#176;</String>
 </Text>
</Element>

<Element>
 <Position X="374" Y="27"/>
 <Text X="16" Y="18" Length="5" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" Bright="Yes">
 <String>M</String>
 </Text>
</Element>

<Element>
 <Position X="660" Y="0"/>
 <Text X="60" Y="18" Length="5" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>RANGE</String>
 </Text>
</Element>

<Element>
 <Position X="660" Y="18"/>
 <Text X="60" Y="32" Length="5" Fixed="No" FontWeight="700" 
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((L:GPS1 MAP Range, number))%!3d!nm</String>
 </Text>
</Element>

<Element>
 <Position X="0" Y="535"/>
 <Text X="100" Y="18" Length="12" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>GROUND SPEED</String>
 </Text>
</Element>

<Element>
 <Position X="0" Y="552"/>
 <Text X="100" Y="32" Length="7" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((A:GPS Ground Speed, knots))%!3d! kts</String>
 </Text>
</Element>

<Element>
<Visible>(A:Radio Height, feet) 2500 &lt;</Visible>

<Element>
 <Position X="620" Y="535"/>
 <Text X="100" Y="18" Length="12" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>RADIO HEIGHT</String>
 </Text>
</Element>

<Element>
 <Position X="620" Y="552"/>
 <Text X="100" Y="32" Length="7" Fixed="No" FontWeight="700"
  Font="Century Gothic" Adjust="Center" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((A:Radio Height, feet) (L:GPS1 Radio Height Correction, feet) - )%!4d! ft</String>
 </Text>
</Element>

</Element>


<Element>
<Visible>(A:GPS is Active Flight Plan, bool)</Visible>

<Element>
<Visible>(A:GPS is Approach Active, bool)</Visible>

<Element>
 <Position X="230" Y="545"/>
 <Text X="100" Y="32" Length="8" Fixed="No" FontWeight="700" 
  Font="Century Gothic" Adjust="Right" VerticalAdjust="Center" Color="Red" BackgroundColor="#000010" Bright="Yes">
 <String>APPROACH</String>
 </Text>
</Element>
</Element>

<Element>
<Visible>(A:GPS is Approach Active, bool) !</Visible>

<Element>
 <Position X="250" Y="547"/>
 <Text X="80" Y="32" Length="5" Fixed="No" FontWeight="700" 
  Font="Century Gothic" Adjust="Right" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((A:GPS WP Prev ID, string))%!5s!</String>
 </Text>
</Element>

<Element>
<Visible>(A:GPS IS DIRECTTO FLIGHTPLAN, bool)</Visible>
<Element>
 <Position X="351" Y="543"/>
 <Text X="20" Y="42" Length="1" Fixed="No" FontWeight="700" 
  Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Magenta" Bright="Yes">
 <String>D</String>
 </Text>
</Element>
</Element>

</Element>

<Element>
<Position X="360" Y="570"/>
<Image Name="Magenta Arrow.bmp" Bright="Yes" Transparent="Yes">
<Axis X="17" Y="18" />
</Image>
</Element>

<Element>
 <Position X="405" Y="547"/>
 <Text X="80" Y="32" Length="5" Fixed="No" FontWeight="700" 
  Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#000010" Bright="Yes">
 <String>%((A:GPS WP Next ID, string))%!.5s!</String>
 </Text>
</Element>


<Element id="Compass Ring">
 <Position X="360" Y="460"/>
 <Visible>(L:GPS1 Compass Ring, bool)</Visible>

<Element id="Expanded Arc">
 <Arc LineWidth="3" Radius="348" StartAngle="8" EndAngle="-188" Color="White" Bright="Yes">
  <Axis X="350" Y="350"/>
 </Arc>
</Element>

<!--          Compass Marks             -->

<Element id="Compass Mark 0">
 <Position X="-350" Y="-350"/>
  <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
  </VerticalLine>
  <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
  </MaskImage>
  <Rotate>
  <Value>
   (L:GPS1 North Up, bool) ! if{ (A:GPS Ground Magnetic Track, radians) } els{ 0 } s3 rddg s0
    l0 30 / flr 30 * s1
    l1 l0 - s6 s7 s8 s9 dgrd
  </Value>
  </Rotate>
</Element>

<Element id="Compass Mark 10">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 20">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 30">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 40">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 50">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 60">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 70">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 80">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="347" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 90">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="347" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 100">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 110">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark 120">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l6 10 + s6 dgrd </Value>
   </Rotate>
</Element>

<Element id="Compass Mark -10">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -20">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -30">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -40">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -50">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -60">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -70">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -80">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -90">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -100">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -110">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="15" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Mark -120">
 <Position X="-350" Y="-350"/>
 <VerticalLine LineWidth="2" Height="30" Color="White" Bright="Yes">
  <Axis X="0" Y="348" />
 </VerticalLine>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350" />
 </MaskImage>
 <Rotate>
  <Value> l7 10 - s7 dgrd </Value>
 </Rotate>
</Element>

<!--          Compass Numbers             -->

<Element id="Compass Number 0">
 <Position X="-350" Y="-350"/>
 <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
  Color="White" FontWeight="700" Bright="Yes">
 <String>%( l1 10 / flr s2 s3 )%!2d!</String>
  <Axis X="16" Y="318" />
 </Text>

  <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
   <Axis X="350" Y="350"/>
  </MaskImage>

  <Rotate>
    <Value> l8 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Number 1">
 <Select>
  <Value>
   l2 3 + s2 36 &gt;= if{ l2 36 - s2 } 
   l3 3 - s3 0  &lt;  if{ l3 36 + s3 }
 </Value>
</Select>
 <Element>
 <Position X="-350" Y="-350"/>
  <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
   Color="White" FontWeight="700" Bright="Yes">
  <String>%( l2 )%!2d!</String>
  <Axis X="16" Y="318" />
  </Text>
  <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
   <Axis X="350" Y="350"/>
  </MaskImage>
  <Rotate>
   <Value> l8 30 + s8 dgrd </Value>
  </Rotate>
</Element>
</Element>

<Element id="Compass Number -1">
 <Position X="-350" Y="-350"/>
 <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
  Color="White" FontWeight="700" Bright="Yes">
 <String>%( l3 )%!2d!</String>
 <Axis X="16" Y="318" />
 </Text>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350"/>
 </MaskImage>
 <Rotate>
  <Value> l9 30 - s9 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Number 2">
 <Select>
  <Value>
   l2 3 + s2 36 &gt;= if{ l2 36 - s2 } 
   l3 3 - s3 0  &lt;  if{ l3 36 + s3 }
 </Value>
</Select>
 <Element>
 <Position X="-350" Y="-350"/>
  <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
   Color="White" FontWeight="700" Bright="Yes">
  <String>%( l2 )%!2d!</String>
  <Axis X="16" Y="318" />
  </Text>
  <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
   <Axis X="350" Y="350"/>
  </MaskImage>
  <Rotate>
   <Value> l8 30 + s8 dgrd </Value>
  </Rotate>
</Element>
</Element>

<Element id="Compass Number -2">
 <Position X="-350" Y="-350"/>
 <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
  Color="White" FontWeight="700" Bright="Yes">
 <String>%( l3 )%!2d!</String>
 <Axis X="16" Y="318" />
 </Text>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350"/>
 </MaskImage>
 <Rotate>
  <Value> l9 30 - s9 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Number 3">
 <Select>
  <Value>
   l2 3 + s2 36 &gt;= if{ l2 36 - s2 } 
   l3 3 - s3 0  &lt;  if{ l3 36 + s3 }
 </Value>
</Select>
 <Element>
 <Position X="-350" Y="-350"/>
  <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
   Color="White" FontWeight="700" Bright="Yes">
  <String>%( l2 )%!2d!</String>
  <Axis X="16" Y="318" />
  </Text>
  <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
   <Axis X="350" Y="350"/>
  </MaskImage>
  <Rotate>
   <Value> l8 30 + s8 dgrd </Value>
  </Rotate>
</Element>
</Element>

<Element id="Compass Number -3">
 <Position X="-350" Y="-350"/>
 <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
  Color="White" FontWeight="700" Bright="Yes">
 <String>%( l3 )%!2d!</String>
 <Axis X="16" Y="318" />
 </Text>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350"/>
 </MaskImage>
 <Rotate>
  <Value> l9 30 - s9 dgrd </Value>
 </Rotate>
</Element>

<Element id="Compass Number 4">
 <Select>
  <Value>
   l2 3 + s2 36 &gt;= if{ l2 36 - s2 } 
   l3 3 - s3 0  &lt;  if{ l3 36 + s3 }
 </Value>
</Select>
 <Element>
 <Position X="-350" Y="-350"/>
  <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
   Color="White" FontWeight="700" Bright="Yes">
  <String>%( l2 )%!2d!</String>
  <Axis X="16" Y="318" />
  </Text>
  <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
   <Axis X="350" Y="350"/>
  </MaskImage>
  <Rotate>
   <Value> l8 30 + s8 dgrd </Value>
  </Rotate>
</Element>
</Element>

<Element id="Compass Number -4">
 <Position X="-350" Y="-350"/>
 <Text X="26" Y="32" Length="2" Fixed="No" Font="Century Gothic" Adjust="Center" VerticalAdjust="Center"
  Color="White" FontWeight="700" Bright="Yes">
 <String>%( l3 )%!2d!</String>
 <Axis X="16" Y="318" />
 </Text>
 <MaskImage Name="GPS MAP Compass Mask.bmp" Transparent="Yes">
  <Axis X="350" Y="350"/>
 </MaskImage>
 <Rotate>
  <Value> l9 30 - s9 dgrd </Value>
 </Rotate>
</Element>


</Element>


</Element>



<!--
===============================================================================
*                                                                             *
*                   MAP WAYPOINTS DISPLAY                                     *
*                                                                             *
===============================================================================
 -->

<Element>
<Position X="0" Y="0"/>
<Visible>(L:GPS1 MAP Display Wpt Panel, bool) (A:GPS IS ACTIVE WAY POINT, bool) &amp;&amp;</Visible>
<Rectangle Width="140" Height="530" LineWidth="3" Color="White" FillColor="#2973EF" Bright="Yes"/>
 
<!--    Waypoint Name  -->

<Element>
 <Position X="0" Y="0"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="100" Y="24" Length="8" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>WAYPOINT</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="80" Y="32" Length="5" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:GPS WP Next ID, string))%!.5s!</String>
   </Text>
  </Element>

</Element>


<!--    Waypoint Bearing  -->

<Element>
 <Position X="0" Y="65"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="100" Y="24" Length="7" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>BEARING</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="50" Y="32" Length="4" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:GPS WP Bearing, radians) rddg )%!03d!&#176;</String>
   </Text>
  </Element>

  <Element>
   <Position X="47" Y="41"/>
   <Text X="12" Y="18" Length="1" Fixed="No" FontWeight="700" 
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>M</String>
   </Text>
  </Element>

</Element>


<!--    Waypoint Course to Steer  -->

<Element>
 <Position X="0" Y="130"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="128" Y="24" Length="15" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>COURSE TO STEER</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="50" Y="32" Length="4" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:GPS Course to Steer, radians) rddg )%!03d!&#176;</String>
   </Text>
  </Element>

  <Element>
   <Position X="47" Y="41"/>
   <Text X="12" Y="18" Length="1" Fixed="No" FontWeight="700" 
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>M</String>
   </Text>
  </Element>

</Element>


<!--    Waypoint Distance  -->

<Element>
 <Position X="0" Y="195"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="100" Y="24" Length="8" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>DISTANCE</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="75" Y="32" Length="8" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:GPS WP Distance, meters) 1852 / )%!3.1f! nm</String>
   </Text>
  </Element>

</Element>

<!--    Waypoint Vertical Speed  -->

<Element>
 <Position X="0" Y="260"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="128" Y="24" Length="14" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>VERTICAL SPEED</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="130" Y="32" Length="12" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:Vertical Speed, feet per second) 60 * near )%!1d! ft/min</String>
   </Text>
  </Element>

</Element>


<!--    Waypoint Track Angle Error  -->

<Element>
 <Position X="0" Y="325"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="128" Y="24" Length="17" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>TRACK ANGLE ERROR</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="50" Y="32" Length="4" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:GPS WP Track Angle Error, radians) rddg )%!03d!&#176;</String>
   </Text>
  </Element>

</Element>


<!--    Waypoint Cross Track  -->

<Element>
 <Position X="0" Y="390"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="120" Y="24" Length="11" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>CROSS TRACK</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="120" Y="32" Length="9" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:GPS WP Cross Trk, meters) 1852 / )%!3.2f! nm</String>
   </Text>
  </Element>

</Element>


<!--    Waypoint Estimated Time Enroute  -->

<Element>
 <Position X="0" Y="455"/>

  <Element>
   <Position X="10" Y="5"/>
   <Text X="128" Y="24" Length="17" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="White" BackgroundColor="#2973EF" Bright="Yes">
   <String>EST. TIME ENROUTE</String>
   </Text>
  </Element>

  <Element>
   <Position X="0" Y="32"/>
   <Rectangle LineWidth="2" Width="138" Height="35" Color="White" FillColor="#101010" />
  </Element>

  <Element>
   <Position X="10" Y="32"/>
   <Text X="133" Y="32" Length="15" Fixed="No" FontWeight="700"
    Font="Century Gothic" Adjust="Left" VerticalAdjust="Center" Color="Yellow" Bright="Yes">
   <String>%((A:GPS WP ETE, hours) flr 100 %)%!1d! hrs %((A:GPS WP ETE, minutes) flr 60 %)%!1d! mins</String>
   </Text>
  </Element>

</Element>

</Element>

</Element>


<!--
===============================================================================
*                                                                             *
*                   Upper MAP Icons                                           *
*                                                                             *
===============================================================================
 -->

<Element>
<Position X="225" Y="3"/>
 <Visible> (G:Var1) 3 ==  </Visible>
<Image Name="Map Icons Upper.bmp" Bright="Yes" Transparent="Yes"/>

<!--    Airports On  -->

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Airports, bool) !</Value>
     <Case Value="1">
        <Image Name="Map Icon Airports On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    VORs On  -->

  <Element>
   <Position X="33" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display VORs, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon VORs On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    NDBs On  -->

  <Element>
   <Position X="65" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display NDBs, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon NDBs On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Intersections On  -->

  <Element>
   <Position X="98" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Wpt, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Waypoints On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Victor Airways On  -->

  <Element>
   <Position X="132" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Victor, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Victor On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Jet Airways On  -->

  <Element>
   <Position X="165" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Jet, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Jet On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Airspaces On  -->

  <Element>
   <Position X="198" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Airspaces, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Airspace On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Flight Plan On  -->

  <Element>
   <Position X="231" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Flight Plan, bool)</Value>
     <Case Value="0">
        <Image Name="Map Icon Flight Plan On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Details Shown  -->

  <Element>
   <Position X="264" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Details, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Details On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Terrain On  -->

  <Element>
   <Position X="297" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Terrain, number) 1 == </Value>
     <Case Value="1">
        <Image Name="Map Icon Terrain On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

</Element>


<!--
===============================================================================
*                                                                             *
*                   Lower MAP Icons                                           *
*                                                                             *
===============================================================================
 -->

<Element>
<Position X="150" Y="636"/>
 <Visible> (G:Var1) 3 ==  </Visible>
<Image Name="Map Icons Lower.bmp" Bright="Yes" Transparent="Yes"/>

<!--    Compass On  -->

 <Element>
   <Position X="66" Y="0" />
   <Select>
    <Value>(L:GPS1 Compass Ring, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Compass On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>


<!--    TCAS On  -->

 <Element>
   <Position X="99" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display TCAS, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon TCAS On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Waypoint Panel On  -->

 <Element>
   <Position X="132" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Display Wpt Panel, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Waypoint Panel On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    TAWS On  -->

  <Element>
   <Position X="165" Y="0" />
   <Select>
    <Value>(L:GPS1 MAP Terrain, number) 2 == </Value>
     <Case Value="1">
        <Image Name="Map Icon TAWS On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Map North On  -->

  <Element>
   <Position X="312" Y="0" />
   <Select>
    <Value>(L:GPS1 North Up, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon North.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Linewidth  -->

  <Element>
   <Position X="351" Y="0" />
   <Select>
    <Value>0 s0 (L:GPS1 Linewidth, number) 2 &lt; if{ 1 s0 } (L:GPS1 Linewidth, number) 2 &gt; if{ 2 s0 } l0 </Value>
     <Case Value="1">
        <Image Name="Map Icon Linewidth Yellow.bmp" Bright="Yes"/>
     </Case>

     <Case Value="2">
        <Image Name="Map Icon Linewidth Green.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Move Map  -->

  <Element>
   <Position X="384" Y="0" />
   <Select>
    <Value>(L:GPS1 CentreX, number) 360 == (L:GPS1 CentreY, number) 460 == &amp;&amp; </Value>
     <Case Value="0">
        <Image Name="Map Icon Move Map.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   Upper APP Icons                                           *
*                                                                             *
===============================================================================
 -->

<Element>
<Position X="225" Y="3"/>
<Visible> (G:Var1) 1 == (L:GPS1 APP Selected, bool) &amp;&amp; </Visible>
<Image Name="App Icons Upper.bmp" Bright="Yes" Transparent="Yes"/>

<!--    Airports On  -->

  <Element>
   <Position X="0" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display Airports, bool)</Value>
     <Case Value="0">
        <Image Name="Map Icon Airports On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    VORs On  -->

  <Element>
   <Position X="33" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display VORs, bool) !</Value>
     <Case Value="1">
        <Image Name="Map Icon VORs On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    NDBs On  -->

  <Element>
   <Position X="65" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display NDBs, bool) !</Value>
     <Case Value="1">
        <Image Name="Map Icon NDBs On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Intersections On  -->

  <Element>
   <Position X="98" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display Wpt, bool) ! </Value>
     <Case Value="1">
        <Image Name="Map Icon Waypoints On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Victor Airways On  -->

  <Element>
   <Position X="132" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display Victor, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Victor On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Jet Airways On  -->

  <Element>
   <Position X="165" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display Jet, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Jet On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Airspaces On  -->

  <Element>
   <Position X="198" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display Airspaces, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Airspace On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Flight Plan On  -->

  <Element>
   <Position X="231" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display Flight Plan, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Flight Plan On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Details Shown  -->

  <Element>
   <Position X="264" Y="0" />
   <Select>
    <Value>(L:GPS1 APP Display Details, bool)</Value>
     <Case Value="1">
        <Image Name="Map Icon Details On.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

</Element>


<!--
===============================================================================
*                                                                             *
*                   Lower APP Icons                                           *
*                                                                             *
===============================================================================
 -->

<Element>
<Position X="150" Y="636"/>
<Visible> (G:Var1) 1 == (L:GPS1 APP Selected, bool) &amp;&amp; </Visible>
<Image Name="App Icons Lower.bmp" Bright="Yes" Transparent="Yes"/>

<!--    Linewidth  -->

  <Element>
   <Position X="351" Y="0" />
   <Select>
    <Value>0 s0 (L:GPS1 APP Linewidth, number) 2 &lt; if{ 1 s0 } (L:GPS1 APP Linewidth, number) 2 &gt; if{ 2 s0 } l0 </Value>
     <Case Value="1">
        <Image Name="Map Icon Linewidth Yellow.bmp" Bright="Yes"/>
     </Case>

     <Case Value="2">
        <Image Name="Map Icon Linewidth Green.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

<!--    Move Map  -->

  <Element>
   <Position X="384" Y="0" />
   <Select>
    <Value>(L:GPS1 APP CentreX, number) 172 == (L:GPS1 APP CentreY, number) 190 == &amp;&amp; </Value>
     <Case Value="0">
        <Image Name="Map Icon Move Map.bmp" Bright="Yes"/>
     </Case>
    </Select>
  </Element>

</Element>

<!--
===============================================================================
*                                                                             *
*                   APPROACH LOCALISER and GLIDESLOPE                         *
*                                                                             *
===============================================================================
 -->
<Element id="MAP Loc and Glideslope">
 <Visible> (G:Var1) 3 ==   </Visible>
 <Position X="37" Y="41"/>

<!--
===============================================================================
*                                                                             *
*                   Localiser                                                 *
*                                                                             *
===============================================================================
 -->

<Element id="Localiser Scale">
<Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) (A:HSI CDI needle valid, bool) &amp;&amp; </Visible>

<Element>
  <Position X="360" Y="520"/>
  <Image Name="MAP Course Deviation Scale.bmp" Transparent="Yes" Bright="Yes" PointsTo="North">
     <Axis X="100" Y="0"/>
  </Image>

 <Element id="CRS Pointer">
   <Position X="7" Y="0"/>

   <Element id="CRS">
     <Position X="0" Y="0"/>
    <Rectangle Width="8" Height="40" LineWidth="3" Color="Magenta" FillColor="Black" Bright="Yes">     
     <Axis X="4" Y="10"/>
     </Rectangle>
   </Element>

   <Element id="CRS Pointer">
     <Position X="0" Y="0"/>
     <Visible>(A:HSI CDI needle, number) abs 50 &lt;</Visible>
    <Rectangle Width="8" Height="40" Color="Magenta" FillColor="Magenta" Bright="Yes">
     <Axis X="4" Y="10"/>
     </Rectangle>
   </Element>

   <Shift>
    <Value Minimum="-127" Maximum="127">(A:HSI CDI needle, number)</Value>
   <Nonlinearity>
    <Item Value="-127" X="-100" Y="-2" />
    <Item Value="0"    X="0"    Y="-2" />
    <Item Value="127"  X="100"  Y="-2" />
   </Nonlinearity>
   <Delay PixelsPerSecond="30"/>
   </Shift>
</Element>

</Element>
</Element>

<!--
===============================================================================
*                                                                             *
*                   Glideslope                                                *
*                                                                             *
===============================================================================
 -->

<Element id="Glideslope">
  <Position X="684" Y="307" />
  <Visible>(C:fs9gps:FlightPlanIsActiveApproach, bool) (A:HSI GSI needle valid, bool) &amp;&amp;</Visible>
    <Image Name="MAP Glideslope Scale.bmp" Transparent="Yes" Bright="Yes">
    <Axis X="0" Y="100" />
    </Image>

 <Element id="Glideslope Pointer">
    <Position X="0" Y="68" />

  <Element>
    <Image Name="MAP Glideslope Pointer.bmp" Transparent="Yes" Bright="Yes">
    <Axis X="10" Y="21" />
    </Image>p
  </Element>

  <Element>
    <Visible>(A:HSI GSI needle, number) abs 10 &lt;</Visible>
    <Image Name="MAP Glideslope Pointer Fill.bmp" Transparent="Yes" Bright="Yes">
    <Axis X="10" Y="21" />
    </Image>
  </Element>

  <Shift>
    <Value Minimum="-119" Maximum="119">(A:HSI GSI needle, number)</Value>
   <Nonlinearity>
    <Item Value="-119" X="16" Y="-100" />
    <Item Value="0"    X="16" Y="0" />
    <Item Value="119"  X="16" Y="100" />
   </Nonlinearity>
  </Shift>

 </Element>

</Element>

</Element>
<!--
===============================================================================
*                                                                             *
*                   MOUSE AREA                                                *
*                                                                             *
===============================================================================
 -->

<Mouse>
<Area Left="37" Top="41" Width="725" Height="600">  

<!--
===============================================================================
*                                                                             *
*                   Synoptic Selection Buttons                                *
*                                                                             *
===============================================================================
 -->

<Area Left="0" Top="0" Width="720" Height="44">  
<Visible>(G:Var1) 3 != </Visible>


<Area Left="10" Top="5" Width="110" Height="44">
 <Tooltip>Detailed Flight Plan</Tooltip>
  <Cursor Type="Hand"/>
   <Click>
    (G:Var1) 0 != if{ 0 (&gt;G:Var1) }
   </Click>
</Area>

<Area Left="130" Top="5" Width="110" Height="44">
 <Tooltip>Approach Selection</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 != if{ 1 (&gt;G:Var1) }
      </Click>
</Area>

<Area Left="250" Top="5" Width="110" Height="44">
 <Tooltip>Nearest Airports, VORs, NDBs, and Intersections</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 2 != if{ 2 (&gt;G:Var1) }
      </Click>
</Area>

<Area Left="370" Top="5" Width="110" Height="44">
 <Tooltip>View Navigational Map</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
       (G:Var1) (&gt;G:Var3)
       3 (&gt;G:Var1)
      </Click>
</Area>

<!--    Auto Tune VOR  -->

<Area Left="490" Top="5" Width="110" Height="44">
 <Tooltip>Automatically tune nearest VOR on NAV1 and 2nd nearest on NAV2</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
       (A:GPS is Approach Active, bool) ! if{ (L:GPS1 Auto VOR, bool) ! (&gt;L:GPS1 Auto VOR, bool) }
      </Click>
</Area>

<!--    Auto Tune NDB  -->

<Area Left="610" Top="5" Width="110" Height="44">
 <Tooltip>Automatically tune nearest NDB on ADF1</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
       (L:GPS1 Auto NDB, bool) ! (&gt;L:GPS1 Auto NDB, bool)
      </Click>
</Area>


</Area>

<!--
===============================================================================
*                                                                             *
*                   Tuning Buttons                                            *
*                                                                             *
===============================================================================
 -->

<!--    Tune Selected VOR  -->

<Area Left="490" Top="55" Width="230" Height="44">
<Visible>(G:Var1) 2 == (L:GPS1 Nearest Selected, number) 1 == &amp;&amp;</Visible>

 <Area Left="0" Top="0" Width="110" Height="44">
  <Tooltip>Tune NAV1 to selected VOR</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
       (L:GPS1 Nrs Sel Index, number) (&gt;C:fs9gps:NearestVorCurrentLine, number)
       (C:fs9gps:NearestVORCurrentFrequency, Mhz) 100 - 100 * near s0
        l0 1000 / flr 4096 * s1
        l0 1000 / flr 1000 * l0 - /-/ s2 100 / flr 256 * l1 + s1
        l2 100 /  flr 100 *  l2 - /-/ s2 10 /  flr 16 * l1 + s1
        l2 10 /   flr 10 *   l2 - /-/ l1 + s1
        l1 (&gt;L:GPS1 BCD Frequency, Frequency BCD16)
        (L:GPS1 BCD Frequency, Frequency BCD16) (&gt;K:NAV1_RADIO_SET) }
      </Click>
  </Area>

 <Area Left="120" Top="0" Width="110" Height="44">
  <Tooltip>Tune NAV2 to selected VOR</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
       (L:GPS1 Nrs Sel Index, number) (&gt;C:fs9gps:NearestVorCurrentLine, number)
       (C:fs9gps:NearestVORCurrentFrequency, Mhz) 100 - 100 * near s0
        l0 1000 / flr 4096 * s1
        l0 1000 / flr 1000 * l0 - /-/ s2 100 / flr 256 * l1 + s1
        l2 100 /  flr 100 *  l2 - /-/ s2 10 /  flr 16 * l1 + s1
        l2 10 /   flr 10 *   l2 - /-/ l1 + s1
        l1 (&gt;L:GPS1 BCD Frequency, Frequency BCD16)
        (L:GPS1 BCD Frequency, Frequency BCD16) (&gt;K:NAV2_RADIO_SET) }
      </Click>
  </Area>

</Area>

<!--    Tune Selected NDB  -->

<Area Left="490" Top="55" Width="230" Height="44">
<Visible>(G:Var1) 2 == (L:GPS1 Nearest Selected, number) 2 == &amp;&amp;</Visible>

 <Area Left="0" Top="0" Width="110" Height="44">
  <Tooltip>Tune ADF1 to selected NDB</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
       (L:GPS1 Nrs Sel Index, number) (&gt;C:fs9gps:NearestNdbCurrentLine, number)
       (C:fs9gps:NearestNdbCurrentFrequency, hz) 1000 / (&gt;L:ADF_FREQ, khz)
       (L:ADF_FREQ, Frequency ADF BCD32) (&gt;K:ADF_COMPLETE_SET)
      </Click>
  </Area>

 <Area Left="120" Top="0" Width="110" Height="44">
  <Tooltip>Tune ADF2 to selected NDB</Tooltip>
    <Cursor Type="Hand"/>
      <Click>
       (L:GPS1 Nrs Sel Index, number) (&gt;C:fs9gps:NearestNdbCurrentLine, number)
       (C:fs9gps:NearestNdbCurrentFrequency, hz) 1000 / (&gt;L:ADF_FREQ, khz)
       (L:ADF_FREQ, Frequency ADF BCD32) (&gt;K:ADF2_COMPLETE_SET)
      </Click>
  </Area>







</Area>

<!--
===============================================================================
*                                                                             *
*                   Select Approach & Waypoints                               *
*                                                                             *
===============================================================================
 -->

<Area Left="10" Top="235" Width="140" Height="303">  
 <Visible>  (L:GPS1 Display Approach Buttons, number) 1 == (G:Var1) 0 == || (L:GPS1 Runway Display, bool) ! (G:Var1) 2 == || </Visible>
 <Tooltip>%((L:GPS1 Display Approach Buttons, number) 1 == (L:GPS1 Runway Display, bool) ! &amp;&amp; if{ 'Select Approach' } els{ '' } )%!s!%((G:Var1))%{case}%{:0}Select Waypoint%{:2}Select%{end}%((G:Var1) 2 == if{ (L:GPS1 Nearest Selected, number) } els{ 9 } )%{case}%{:0} Airport%{:1} VOR%{:2} NDB%{:3} Intersection%{end}</Tooltip>

<!--  Column 1 -->

 <Area Left="0" Top="0" Width="120" Height="303">  

  <Area Left="0" Top="0" Width="120" Height="24">

    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 0 == if{ -1 (&gt;G:Var2) } els{  0 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number) }
      </Click>
   </Area>

  <Area Left="0" Top="26" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 1 == if{ -1 (&gt;G:Var2) }
                                     els{  1 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{ (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 1 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }


      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 1 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 1 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="52" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 2 == if{ -1 (&gt;G:Var2) }
                                     els{  2 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{    (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 2 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 2 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 2 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="78" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 3 == if{ -1 (&gt;G:Var2) }
                                     els{  3 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{  (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 3 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 3 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 3 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="104" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 4 == if{ -1 (&gt;G:Var2) }
                                     els{  4 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{  (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 4 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0  (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 4 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 4 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="130" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 5 == if{ -1 (&gt;G:Var2) }
                                     els{  5 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{  (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 5 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 5 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 5 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="156" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 6 == if{ -1 (&gt;G:Var2) }
                                     els{  6 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{  (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 6 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 6 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 6 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="182" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 7 == if{ -1 (&gt;G:Var2) }
                                     els{  7 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{ (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 7 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 7 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 7 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="208" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 8 == if{ -1 (&gt;G:Var2) }
                                     els{  8 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{  (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 8 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 8 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 8 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="234" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 9 == if{ -1 (&gt;G:Var2) }
                                     els{  9 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{  (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 9 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 9 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 9 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="260" Width="120" Height="24">
    <Cursor Type="Hand"/>
      <Click>
      (G:Var1) 1 == if{ (G:Var2) 10 == if{ -1 (&gt;G:Var2) }
                                     els{ 10 (&gt;G:Var2) 0 (&gt;L:GPS1 Transition Start Index, number) 0 (&gt;L:GPS1 Trans Index, number)  } }

      (G:Var1) 0 == if{ (L:GPS1 Wpt Page Number, number) -- s0 (L:GPS1 Lines per Page, number) -- l0 * 10 + -- s0 (L:GPS1 Wpt Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Wpt Sel Index, number) }
                   els{ l0 (&gt;L:GPS1 Wpt Sel Index, number) } }

      (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 10 + -- (L:GPS1 Nrs Sel Index, number) ==
                    if{ -1 (&gt;L:GPS1 Nrs Sel Index, number) }
                   els{ (L:GPS1 Nrs Page Number, number) -- (L:GPS1 Lines per Page, number) * 10 + -- (&gt;L:GPS1 Nrs Sel Index, number) } }
      </Click>
   </Area>

  <Area Left="0" Top="286" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 11 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 11 == if{ -1 (&gt;G:Var2) }
                                          els{ 11 (&gt;G:Var2) }
      </Click>
   </Area>

 </Area>

</Area>

<Area Left="160" Top="235" Width="565" Height="303">  
 <Visible>(G:Var1) 1 == (L:GPS1 APP Selected, bool) ! &amp;&amp;</Visible>
  <Tooltip>Select Approach</Tooltip> 

<!--  Column 2 -->

 <Area Left="0" Top="0" Width="120" Height="303"> 


  <Area Left="0" Top="0" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 12 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 12 == if{ -1 (&gt;G:Var2) }
                                          els{ 12 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="26" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 13 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 13 == if{ -1 (&gt;G:Var2) }
                                          els{ 13 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="52" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 14 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 14 == if{ -1 (&gt;G:Var2) }
                                          els{ 14 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="78" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 15 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 15 == if{ -1 (&gt;G:Var2) }
                                          els{ 15 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="104" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 16 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 16 == if{ -1 (&gt;G:Var2) }
                                          els{ 16 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="130" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 17 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 17 == if{ -1 (&gt;G:Var2) }
                                          els{ 17 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="156" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 18 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 18 == if{ -1 (&gt;G:Var2) }
                                          els{ 18 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="182" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 19 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 19 == if{ -1 (&gt;G:Var2) }
                                          els{ 19 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="208" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 20 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 20 == if{ -1 (&gt;G:Var2) }
                                          els{ 20 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="234" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 21 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 21 == if{ -1 (&gt;G:Var2) }
                                          els{ 21 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="260" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 22 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 22 == if{ -1 (&gt;G:Var2) }
                                          els{ 22 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="286" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 23 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 23 == if{ -1 (&gt;G:Var2) }
                                          els{ 23 (&gt;G:Var2) }
      </Click>
   </Area>

 </Area>

</Area>

<Area Left="300" Top="235" Width="565" Height="303">  
 <Visible>(G:Var1) 1 == </Visible>
  <Tooltip>Select Approach</Tooltip> 

<!--  Column 3 -->

 <Area Left="0" Top="0" Width="120" Height="303">  

  <Area Left="0" Top="0" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 24 &gt;= (L:GPS1 APP Selected, bool) ! &amp;&amp;</Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 24 == if{ -1 (&gt;G:Var2) }
                                          els{ 24 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="26" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 25 &gt;=  (L:GPS1 APP Selected, bool) ! &amp;&amp;</Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 25 == if{ -1 (&gt;G:Var2) } els{ 25 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="52" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 26 &gt;=  (L:GPS1 APP Selected, bool) ! &amp;&amp;</Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 26 == if{ -1 (&gt;G:Var2) } els{ 26 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="78" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 27 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 1 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) (L:GPS1 Trans Index, number)  ==
                                                                                     if{  0 (&gt;L:GPS1 Trans Index, number)
                                                                                          0 (&gt;L:GPS1 Transition Start Index, number) }
                                                                                    els{  (L:GPS1 Transition Start Index, number) (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 27 == if{ -1 (&gt;G:Var2) } els{ 27 (&gt;G:Var2) } } 
      </Click>
   </Area>

  <Area Left="0" Top="104" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 28 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 2 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 1 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 1 + (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 28 == if{ -1 (&gt;G:Var2) } els{ 28 (&gt;G:Var2) } }
      </Click>
   </Area>

  <Area Left="0" Top="130" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 29 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 3 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 2 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 2 +  (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{  (G:Var2) 29 == if{ -1 (&gt;G:Var2) } els{ 29 (&gt;G:Var2) } } 
      </Click>
   </Area>

  <Area Left="0" Top="156" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 30 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 4 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 3 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 3 + (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 30 == if{ -1 (&gt;G:Var2) } els{ 30 (&gt;G:Var2) } }
      </Click>
   </Area>

  <Area Left="0" Top="182" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 31 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 5 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 4 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 4 + (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 31 == if{ -1 (&gt;G:Var2) } els{ 31 (&gt;G:Var2) } }
      </Click>
   </Area>

  <Area Left="0" Top="208" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 32 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 6 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 5 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 5 + (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 32 == if{ -1 (&gt;G:Var2) } els{ 32 (&gt;G:Var2) } }
      </Click>
   </Area>

  <Area Left="0" Top="234" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 33 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 7 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 6 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 6 + (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 33 == if{ -1 (&gt;G:Var2) } els{ 33 (&gt;G:Var2) } }
      </Click>
   </Area>

  <Area Left="0" Top="260" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 34 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 8 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 7 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 7 + (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 34 == if{ -1 (&gt;G:Var2) } els{ 34 (&gt;G:Var2) } }
      </Click>
   </Area>

  <Area Left="0" Top="286" Width="120" Height="24">
  <Visible> 0 s0 (L:GPS1 APP Selected, bool) ! if{ (C:fs9gps:WaypointAirportApproachesNumber, number) -- 35 &gt;=
                                               if{ 1 s0 } }
                 (L:GPS1 APP Selected, bool)   if{ (C:fs9gps:FlightPlanIsActiveApproach, bool) !
                                               if{ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) (L:GPS1 Transition Start Index, number) - 9 &gt;=
                                               if{ 1 s0 } } } l0 </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (L:GPS1 APP Selected, bool)              if{ (L:GPS1 Transition Start Index, number) 8 + (L:GPS1 Trans Index, number) ==
                                               if{  0 (&gt;L:GPS1 Trans Index, number)
                                                    0 (&gt;L:GPS1 Transition Start Index, number) }
                                              els{  (L:GPS1 Transition Start Index, number) 8 + (&gt;L:GPS1 Trans Index, number) } }
      (L:GPS1 APP Selected, bool)  !           if{ (G:Var2) 35 == if{ -1 (&gt;G:Var2) } els{ 35 (&gt;G:Var2) } }
      </Click>
   </Area>

 </Area>

</Area>

<Area Left="450" Top="235" Width="565" Height="303">  
 <Visible>(G:Var1) 1 == (L:GPS1 APP Selected, bool) ! &amp;&amp;</Visible>
  <Tooltip>Select Approach</Tooltip> 

<!--  Column 4 -->

 <Area Left="0" Top="0" Width="120" Height="303">  

  <Area Left="0" Top="0" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 36 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 36 == if{ -1 (&gt;G:Var2) }
                                          els{ 36 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="26" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 37 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 37 == if{ -1 (&gt;G:Var2) }
                                          els{ 37 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="52" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 38 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 38 == if{ -1 (&gt;G:Var2) }
                                          els{ 38 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="78" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 39 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 39 == if{ -1 (&gt;G:Var2) }
                                          els{ 39 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="104" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 40 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 40 == if{ -1 (&gt;G:Var2) }
                                          els{ 40 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="130" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 41 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 41 == if{ -1 (&gt;G:Var2) }
                                          els{ 41 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="156" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 42 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 42 == if{ -1 (&gt;G:Var2) }
                                          els{ 42 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="182" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 43 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 43 == if{ -1 (&gt;G:Var2) }
                                          els{ 43 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="208" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 44 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 44 == if{ -1 (&gt;G:Var2) }
                                          els{ 44 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="234" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 45 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 45 == if{ -1 (&gt;G:Var2) }
                                          els{ 45 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="260" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 46 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 46 == if{ -1 (&gt;G:Var2) }
                                          els{ 46 (&gt;G:Var2) }
      </Click>
   </Area>

  <Area Left="0" Top="286" Width="120" Height="24">
  <Visible>(C:fs9gps:WaypointAirportApproachesNumber, number) -- 47 &gt;= </Visible>
    <Cursor Type="Hand"/>
      <Click>
      (G:Var2) 47 == if{ -1 (&gt;G:Var2) }
                                          els{ 47 (&gt;G:Var2) }
      </Click>
   </Area>

 </Area>

</Area>

<!--
===============================================================================
*                                                                             *
*                   Change Pages Retrieved                                    *
*                                                                             *
===============================================================================
 -->

<Area Left="640" Top="206" Width="50" Height="30">
<Visible> (G:Var1) 2 == </Visible>
 <Tooltip>R Click: Increase, L Click: Decrease; Pages Retrieved</Tooltip>
    <Cursor Type="Hand" Repeat="Yes"/>
    <Click Kind="RightSingle+LeftSingle">
     (M:Event) 'LeftSingle'   scmp 0 == if{ (L:GPS1 Pages Retrieved, number) -- 1  max (&gt;L:GPS1 Pages Retrieved, number) }
     (M:Event) 'RightSingle'  scmp 0 == if{ (L:GPS1 Pages Retrieved, number) ++ 99 min (&gt;L:GPS1 Pages Retrieved, number) }
     (L:GPS1 Nrs Page Number, number)       (L:GPS1 Pages Retrieved, number) &gt; if{ (L:GPS1 Nrs Page Number, number) --      (&gt;L:GPS1 Nrs Page Number, number) }
     (L:GPS1 Nrs Arpt Page Number, number)  (L:GPS1 Pages Retrieved, number) &gt; if{ (L:GPS1 Nrs Arpt Page Number, number) -- (&gt;L:GPS1 Nrs Arpt Page Number, number) }
     (L:GPS1 Nrs VOR Page Number, number)   (L:GPS1 Pages Retrieved, number) &gt; if{ (L:GPS1 Nrs VOR Page Number, number) --  (&gt;L:GPS1 Nrs VOR Page Number, number) }
     (L:GPS1 Nrs NDB Page Number, number)   (L:GPS1 Pages Retrieved, number) &gt; if{ (L:GPS1 Nrs NDB Page Number, number) --  (&gt;L:GPS1 Nrs NDB Page Number, number) }
     (L:GPS1 Nrs Int Page Number, number)   (L:GPS1 Pages Retrieved, number) &gt; if{ (L:GPS1 Nrs Int Page Number, number) --  (&gt;L:GPS1 Nrs Int Page Number, number) } 
   </Click>
  </Area>

<!--
===============================================================================
*                                                                             *
*                   Bottom Button Area                                        *
*                                                                             *
===============================================================================
 -->

<Area Left="0" Top="538" Width="416" Height="44">
<Visible> (G:Var1) 2 == </Visible>


<!--  Button 1 -->

  <Area Left="8" Top="0" Width="100" Height="44">
   <Tooltip>Nearest Airports</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
          (L:GPS1 Nearest Selected, number) 1 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel VOR Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs VOR Page Number, number) }
          (L:GPS1 Nearest Selected, number) 2 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel NDB Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs NDB Page Number, number) }
          (L:GPS1 Nearest Selected, number) 3 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel Int Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs Int Page Number, number) }
          (L:GPS1 Nearest Selected, number) 4 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel Air Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs Air Page Number, number) }


          (L:GPS1 Nrs Sel Arpt Index, number) (&gt;L:GPS1 Nrs Sel Index, number)
          (L:GPS1 Nrs Arpt Page Number, number) (&gt;L:GPS1 Nrs Page Number, number)
          0 (&gt;L:GPS1 Nearest Selected, number)
    </Click>
  </Area>

<!--  Button 2 -->

  <Area Left="110" Top="0" Width="100" Height="44">
   <Tooltip>Nearest VORs</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
          (L:GPS1 Nearest Selected, number) 0 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel Arpt Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs Arpt Page Number, number) }
          (L:GPS1 Nearest Selected, number) 2 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel NDB Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs NDB Page Number, number) }
          (L:GPS1 Nearest Selected, number) 3 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel Int Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs Int Page Number Page, number) }
          (L:GPS1 Nearest Selected, number) 4 == if{ (L:GPS1 Nrs Sel Index, number) (&gt;L:GPS1 Nrs Sel Air Index, number)
                                                (L:GPS1 Nrs Page Number, number)           (&gt;L:GPS1 Nrs Air Page Number, number) }

          (L:GPS1 Nrs Sel VOR Index, number) (&gt;L:GPS1 Nrs Sel Index, number)
          (L:GPS1 Nrs VOR Page Number, number) (&gt;L:GPS1 Nrs Page Number, number)
          1 (&gt;L:GPS1 Nearest Selected, number)
    </Click>
  </Area>

<!--  Button 3 -->

  <Area Left="212" Top="0" Width="100" Height="44">
   <Tooltip>Nearest NDBs</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
          (L:GPS1 Nearest Selected, number) 0 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel Arpt Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs Arpt Page Number, number) }
          (L:GPS1 Nearest Selected, number) 3 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel Int Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs Int Page Number, number) }
          (L:GPS1 Nearest Selected, number) 1 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel VOR Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs VOR Page Number, number) }
          (L:GPS1 Nearest Selected, number) 4 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel Air Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs Air Page Number, number) }

          (L:GPS1 Nrs NDB Page Number, number) (&gt;L:GPS1 Nrs Page Number, number)
          (L:GPS1 Nrs Sel NDB Index, number) (&gt;L:GPS1 Nrs Sel Index, number)
          2 (&gt;L:GPS1 Nearest Selected, number)
    </Click>
  </Area>

<!--  Button 4 -->

  <Area Left="314" Top="0" Width="100" Height="44">
   <Tooltip>Nearest Intersections</Tooltip>
    <Cursor Type="Hand"/>
    <Click Kind="RightSingle+LeftSingle">
          (L:GPS1 Nearest Selected, number) 0 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel Arpt Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs Arpt Page Number, number) }
          (L:GPS1 Nearest Selected, number) 2 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel NDB Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs NDB Page Number, number) }
          (L:GPS1 Nearest Selected, number) 1 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel VOR Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs VOR Page Number, number) }
          (L:GPS1 Nearest Selected, number) 4 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel Air Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs Air Page Number, number) }

          (L:GPS1 Nrs Int Page Number, number) (&gt;L:GPS1 Nrs Page Number, number)
          (L:GPS1 Nrs Sel Int Index, number) (&gt;L:GPS1 Nrs Sel Index, number)
          3 (&gt;L:GPS1 Nearest Selected, number)
    </Click>
  </Area>
</Area>

<!--  Button 5 -->

<Area Left="416" Top="538" Width="100" Height="44">
<Visible> (L:GPS1 Button 5 Visibility, bool)</Visible>
   <Tooltip>%( ' ' s0 (G:Var1) 0 == if{ 'Auto Altitude Transition' s0 } (G:Var1) 1 == if{ 'Tune NAV1 to ILS' s0 } els{ 'Display Nearest Airspaces' s0 } l0 )%!s!</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
    (G:Var1) 0 == if{ (L:GPS1 Auto Transition, bool) ! (&gt;L:GPS1 Auto Transition, bool) }

     (G:Var1) 1 == (L:GPS1 APP Selected, bool) &amp;&amp; if{ 0 (&gt;L:GPS1 Auto VOR, bool)
                           (L:GPS1 ILS BCD Frequency, Frequency BCD16) (&gt;K:NAV1_RADIO_SET) }

     (G:Var1) 2 == if{
          (L:GPS1 Enter Direct To ICAO, bool) if{ 0 (&gt;L:GPS1 Enter Direct To ICAO, bool)
                                                 -1 (&gt;L:GPS1 Nrs Sel Index, number)
                                                  (L:GPS1 Nrs Sel Index, number) (&gt;C:fs9gps:IcaoSearchMatchedIcao, number)
                                                  (C:fs9gps:IcaoSearchCurrentIcao, string) (&gt;C:fs9gps:FlightPlanNewWaypointICAO)
                                                  1 (&gt;C:fs9gps:FlightPlanDirectToDestination) quit }

          (L:GPS1 Enter Direct To Name, bool) if{ 0 (&gt;L:GPS1 Enter Direct To Name, bool)
                                                 -1 (&gt;L:GPS1 Nrs Sel Index, number)
                                                    (C:fs9gps:NameSearchCurrentMatch, number) 1 ==
                                              if{   (C:fs9gps:NameSearchCurrentIcao, string) (&gt;C:fs9gps:FlightPlanNewWaypointICAO)
                                                  1 (&gt;C:fs9gps:FlightPlanDirectToDestination) quit } quit }

          (L:GPS1 Nearest Selected, number) 1 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel VOR Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs VOR Page Number, number) }
          (L:GPS1 Nearest Selected, number) 2 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel NDB Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs NDB Page Number, number) }
          (L:GPS1 Nearest Selected, number) 3 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel Int Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs Int Page Number Page, number) }
          (L:GPS1 Nearest Selected, number) 0 == if{ (L:GPS1 Nrs Sel Index, number)   (&gt;L:GPS1 Nrs Sel Arpt Index, number)
                                                     (L:GPS1 Nrs Page Number, number) (&gt;L:GPS1 Nrs Arpt Page Number, number) }

          (L:GPS1 Nrs Air Page Number, number) (&gt;L:GPS1 Nrs Page Number, number)
          (L:GPS1 Nrs Sel Air Index, number) (&gt;L:GPS1 Nrs Sel Index, number)
          4 (&gt;L:GPS1 Nearest Selected, number) }
    </Click>
  </Area>

<!--  Button 6 -->

<Area Left="518" Top="538" Width="100" Height="44">
<Visible>(L:GPS1 Button 6 Visibility, bool) </Visible>
  <Tooltip>%((G:Var1) 1 == if{ 'Cancel Selected Approach' } els{ 'Prev Page' } )%!s!</Tooltip>
    <Cursor Type="Hand"/>
    <Click>

    (G:Var1) 0 == if{ (L:GPS1 Wpt Page Number, number) 1 &gt;
                  if{ (L:GPS1 Wpt Page Number, number) -- (&gt;L:GPS1 Wpt Page Number, number) } }

    (G:Var1) 1 == if{ 0 (&gt;L:GPS1 APP Selected, bool)
                      0 (&gt;C:fs9gps:FlightPlanIsActiveApproach, bool) }

    (G:Var1) 2 == if{ (L:GPS1 Nrs Page Number, number) -- 1 max (&gt;L:GPS1 Nrs Page Number, number) }

    </Click>
</Area>

<!--  Button 7 -->

<Area Left="620" Top="538" Width="110" Height="44">
  <Visible> (L:GPS1 Button 7 Visibility, bool) </Visible>
  <Tooltip>%( ' ' s0 (G:Var1) 1 == (L:GPS1 APP Selected, bool) ! &amp;&amp; if{ (G:Var2) 0 &gt;= if{ 'Confirm Approach Selection' s0 } } (G:Var1) 1 ==  if{ (L:GPS1 APP Selected, bool) (G:Var2) 0 &gt;= &amp;&amp; if{ 'Activate Selected Approach' s0 } els{ 'Display Runways' s0 } } (G:Var1) 2 == (G:Var1) 0 == || if{ 'Next Page' s0 } l0 )%!s!</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
    (G:Var1) 0 == if{ (L:GPS1 Wpt Page Number, number) (L:GPS1 Wpt Total Pages, number) &lt;
                  if{ (L:GPS1 Wpt Page Number, number) ++ (&gt;L:GPS1 Wpt Page Number, number) } }

     (G:Var1) 1 == (L:GPS1 APP Selected, bool) ! &amp;&amp;
                                        if{ (G:Var2) 0 &lt;
                                        if{ (L:GPS1 Runway Display, bool) ! (&gt;L:GPS1 Runway Display, bool) quit } }

     (G:Var1) 1 == (L:GPS1 APP Selected, bool) ! &amp;&amp; if{
                   (G:Var2) 0 &gt;=            if{ 1 (&gt;L:GPS1 APP Selected, bool) }
                   (L:GPS1 APP Selected, bool) if{ (G:Var2) (&gt;C:fs9gps:WaypointAirportCurrentApproach, number) quit } }

     (G:Var1) 1 == (L:GPS1 APP Selected, bool) &amp;&amp; if{
                   (C:fs9gps:WaypointAirportICAO, string) (&gt;C:fs9gps:FlightPlanNewApproachAirport, string)
                   (G:Var2) (&gt;C:fs9gps:FlightPlanNewApproachApproach, number)
                   (L:GPS1 Trans Index, number)   (&gt;C:fs9gps:FlightPlanNewApproachTransition)
                                                1 (&gt;C:fs9gps:FlightPlanNewApproachMissed, bool)
                                                3 (&gt;C:fs9gps:FlightPlanNewApproachAddInitialLeg, enum)
                                                2 (&gt;C:fs9gps:FlightPlanLoadApproach)
                                                0 (&gt;L:GPS1 Auto VOR, bool) }
    (G:Var1) 2 == if{
       (L:GPS1 Enter Direct To ICAO, bool)    if{ (C:fs9gps:IcaoSearchMatchedIcaosNumber, number) (L:GPS1 Lines per Page, number) / ceil (L:GPS1 Nrs Page Number, number) &gt;
                                              if{ (L:GPS1 Nrs Page Number, number) ++ (&gt;L:GPS1 Nrs Page Number, number) quit } quit }

       (L:GPS1 Nearest Selected, number) 0 == if{ (C:fs9gps:NearestAirportItemsNumber, number) (L:GPS1 Lines per Page, number) / ceil (L:GPS1 Nrs Page Number, number) &gt;
                                              if{ (L:GPS1 Nrs Page Number, number) ++ (&gt;L:GPS1 Nrs Page Number, number) } }
       (L:GPS1 Nearest Selected, number) 1 == if{ (C:fs9gps:NearestVORItemsNumber, number) (L:GPS1 Lines per Page, number) / ceil (L:GPS1 Nrs Page Number, number) &gt;
                                              if{ (L:GPS1 Nrs Page Number, number) ++ (&gt;L:GPS1 Nrs Page Number, number) } }
       (L:GPS1 Nearest Selected, number) 2 == if{ (C:fs9gps:NearestNDBItemsNumber, number) (L:GPS1 Lines per Page, number) / ceil (L:GPS1 Nrs Page Number, number) &gt;
                                              if{ (L:GPS1 Nrs Page Number, number) ++ (&gt;L:GPS1 Nrs Page Number, number) } }
       (L:GPS1 Nearest Selected, number) 3 == if{ (C:fs9gps:NearestIntersectionItemsNumber, number) (L:GPS1 Lines per Page, number) / ceil (L:GPS1 Nrs Page Number, number) &gt;
                                              if{ (L:GPS1 Nrs Page Number, number) ++ (&gt;L:GPS1 Nrs Page Number, number) } }
       (L:GPS1 Nearest Selected, number) 4 == if{ (C:fs9gps:NearestAirspaceItemsNumber, number) (L:GPS1 Lines per Page, number) / ceil (L:GPS1 Nrs Page Number, number) &gt;
                                              if{ (L:GPS1 Nrs Page Number, number) ++ (&gt;L:GPS1 Nrs Page Number, number) } } }
    </Click>
</Area>

<!--
===============================================================================
*                                                                             *
*                   Direct To Button                                          *
*                                                                             *
===============================================================================
 -->

<Area Left="660" Top="170" Width="56" Height="27">
  <Visible>(G:Var8)</Visible>
   <Tooltip>Fly directly to Selected Airport / VOR / NDB / Intersection / Waypoint</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (L:GPS1 Enter Direct To ICAO, bool) if{ 0 (&gt;L:GPS1 Enter Direct To ICAO, bool)
                                             0 (&gt;L:GPS1 Direct To, bool)
                                             0 (&gt;L:GPS1 ICAO Cursor, number)
                                             1 (&gt;C:fs9gps:FlightPlanCancelDirectTo) quit }
     (L:GPS1 Enter Direct To Name, bool) if{ 0 (&gt;L:GPS1 Enter Direct To Name, bool)
                                             0 (&gt;L:GPS1 Name Cursor, number)
                                             0 (&gt;L:GPS1 Direct To, bool)
                                             1 (&gt;C:fs9gps:FlightPlanCancelDirectTo) quit }
     (L:GPS1 Direct To, bool)            if{ 0 (&gt;L:GPS1 Direct To, bool)
                                             1 (&gt;C:fs9gps:FlightPlanCancelDirectTo) quit }

     (L:GPS1 Wpt Sel Index, number) s0
     :10
     (G:Var1) 0 == if{ l0 (C:fs9gps:FlightPlanActiveWaypoint, number) &gt;
                   if{ l0 -- s0 (&gt;C:fs9gps:FlightPlanDeleteWaypoint, number) g10 }
                       l0 (&gt;L:GPS1 Wpt Sel Index, number) }

     (G:Var1) 0 == if{ (L:GPS1 Direct To, bool)
                   if{ (C:fs9gps:FlightPlanActiveWaypoint, number) 0 ==
                       0 (&gt;L:GPS1 Direct To, bool)
                       1 (&gt;C:fs9gps:FlightPlanCancelDirectTo) } }

     (G:Var1) 2 == if{ (L:GPS1 Direct To, bool) ! (&gt;L:GPS1 Direct To, bool)
                       (L:GPS1 Nrs Sel Index, number) 0 &lt;
                   if{ (L:GPS1 Enter Direct To ICAO, bool) ! (&gt;L:GPS1 Enter Direct To ICAO, bool) }


                       (L:GPS1 Nearest Selected, number) 0 == if{ (L:GPS1 Nrs Sel Index, number)               (&gt;C:fs9gps:NearestAirportCurrentLine, number)
                                                                  (C:fs9gps:NearestAirportCurrentICAO, string) (&gt;C:fs9gps:FlightPlanNewWaypointICAO)
                                                                                                             1 (&gt;C:fs9gps:FlightPlanDirectToDestination) }

                       (L:GPS1 Nearest Selected, number) 1 == if{ (L:GPS1 Nrs Sel Index, number)               (&gt;C:fs9gps:NearestVORCurrentLine, number)
                                                                  (C:fs9gps:NearestVORCurrentICAO, string) (&gt;C:fs9gps:FlightPlanNewWaypointICAO)
                                                                                                             1 (&gt;C:fs9gps:FlightPlanDirectToDestination) }

                       (L:GPS1 Nearest Selected, number) 2 == if{ (L:GPS1 Nrs Sel Index, number)               (&gt;C:fs9gps:NearestNDBCurrentLine, number)
                                                                  (C:fs9gps:NearestNDBCurrentICAO, string) (&gt;C:fs9gps:FlightPlanNewWaypointICAO)
                                                                                                             1 (&gt;C:fs9gps:FlightPlanDirectToDestination) }

                       (L:GPS1 Nearest Selected, number) 3 == if{ (L:GPS1 Nrs Sel Index, number)               (&gt;C:fs9gps:NearestIntersectionCurrentLine, number)
                                                                  (C:fs9gps:NearestIntersectionCurrentICAO, string) (&gt;C:fs9gps:FlightPlanNewWaypointICAO)
                                                                                                             1 (&gt;C:fs9gps:FlightPlanDirectToDestination) }
}

</Click>

</Area>

</Area>

<!--
===============================================================================
*                                                                             *
*                   Upper Map Icons                                           *
*                                                                             *
===============================================================================
 -->
<Area Left="225" Top="3" Width="550" Height="30">


<!--  Display Airports Button -->

  <Area Left="0" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display Airports</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display Airports, bool) ! (&gt;L:GPS1 MAP Display Airports, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display Airports, bool) ! (&gt;L:GPS1 APP Display Airports, bool) }
    </Click>
   </Area>

<!--  Display VORs Button -->

  <Area Left="33" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display VORs</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display VORs, bool) ! (&gt;L:GPS1 MAP Display VORs, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display VORs, bool) ! (&gt;L:GPS1 APP Display VORs, bool) }
    </Click>
   </Area>

<!--  Display NDBs Button -->

  <Area Left="65" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display NDBs</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display NDBs, bool) ! (&gt;L:GPS1 MAP Display NDBs, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display NDBs, bool) ! (&gt;L:GPS1 APP Display NDBs, bool) }
    </Click>
   </Area>

<!--  Display Intersections Button -->

  <Area Left="98" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display Intersections</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display Wpt, bool) ! (&gt;L:GPS1 MAP Display Wpt, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display Wpt, bool) ! (&gt;L:GPS1 APP Display Wpt, bool) }
    </Click>
   </Area>

<!--  Display Victor Airways Button -->

  <Area Left="132" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display Victor Airways</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display Victor, bool) ! (&gt;L:GPS1 MAP Display Victor, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display Victor, bool) ! (&gt;L:GPS1 APP Display Victor, bool) }
    </Click>
   </Area>

<!--  Display Jet Airways Button -->

  <Area Left="165" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display Jet Airways</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display Jet, bool) ! (&gt;L:GPS1 MAP Display Jet, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display Jet, bool) ! (&gt;L:GPS1 APP Display Jet, bool) }
    </Click>
   </Area>

<!--  Display Airspaces Button -->

  <Area Left="198" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display Airspaces</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display Airspaces, bool) ! (&gt;L:GPS1 MAP Display Airspaces, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display Airspaces, bool) ! (&gt;L:GPS1 APP Display Airspaces, bool) }
    </Click>
   </Area>

<!--  Display Flight Plan Button -->

  <Area Left="231" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Display Flight Plan</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display Flight Plan, bool) ! (&gt;L:GPS1 MAP Display Flight Plan, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display Flight Plan, bool) ! (&gt;L:GPS1 APP Display Flight Plan, bool) }
    </Click>
   </Area>

<!--  Display Details Button -->

  <Area Left="264" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
               (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                             if{ 1 s0 } } l0</Visible>
   <Tooltip>Display More textual detail</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var1) 3 == if{ (L:GPS1 MAP Display Details, bool) ! (&gt;L:GPS1 MAP Display Details, bool) }
     (G:Var1) 1 == if{ (L:GPS1 APP Display Details, bool) ! (&gt;L:GPS1 APP Display Details, bool) }
    </Click>
   </Area>

<!--  Display Terrain Button -->

  <Area Left="297" Top="0" Width="30" Height="30">
  <Visible> (G:Var1) 3 == </Visible>
   <Tooltip>Display Terrain Map</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (L:GPS1 MAP Terrain, number) 1 != if{ 1 (&gt;L:GPS1 MAP Terrain, number)
                                           1 (&gt;G:Var6)
                                           (L:GPS1 MAP Range, number) (&gt;G:Var4) }
                                      els{ 0 (&gt;L:GPS1 MAP Terrain, number) }
    </Click>
   </Area>

</Area>

<!--
===============================================================================
*                                                                             *
*                   Lower Map Icons                                           *
*                                                                             *
===============================================================================
 -->

<Area Left="150" Top="636" Width="500" Height="30">


<!--  Map Off Button -->

  <Area Left="0" Top="0" Width="63" Height="30">
  <Visible> (G:Var1) 3 == </Visible>
   <Tooltip>Switch off Map</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (G:Var3) (&gt;G:Var1)
    </Click>
  </Area>

<!--  Display Compass Button -->

  <Area Left="66" Top="0" Width="30" Height="30">
  <Visible> (G:Var1) 3 == </Visible>
   <Tooltip>Display Compass Ring</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (L:GPS1 Compass Ring, bool) ! (&gt;L:GPS1 Compass Ring, bool)
    </Click>
   </Area>


<!--  Display TCAS Button -->

  <Area Left="99" Top="0" Width="30" Height="30">
  <Visible> (G:Var1) 3 == </Visible>
   <Tooltip>Display Other Aircraft (TCAS)</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (L:GPS1 MAP Display TCAS, bool) ! (&gt;L:GPS1 MAP Display TCAS, bool)
    </Click>
   </Area>

<!--  Display Waypoint Panel Button -->

  <Area Left="132" Top="0" Width="30" Height="30">
  <Visible> (G:Var1) 3 == </Visible>
   <Tooltip>Display Waypoint Information Panel</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (L:GPS1 MAP Display Wpt Panel, bool) ! (&gt;L:GPS1 MAP Display Wpt Panel, bool)
    </Click>
   </Area>

<!--  Display TAWS Map -->

  <Area Left="165" Top="0" Width="78" Height="30">
  <Visible> (G:Var1) 3 == </Visible>
   <Tooltip>Display TAWS Map</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (L:GPS1 Map Terrain, number) 2 != if{ 2 (&gt;L:GPS1 Map Terrain, number)
                                           1 (&gt;G:Var6)
                                           (L:GPS1 MAP Range, number) (&gt;G:Var4) }
                                      els{ 0 (&gt;L:GPS1 Map Terrain, number) }
    </Click>
   </Area>

<!--  Range Increase / Decrease -->

  <Area Left="246" Top="0" Width="62" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>L Click: Decrease; R Click Increase: Map Range</Tooltip>
    <Cursor Type="Hand" Repeat="Yes"/>
    <Click  Kind="RightSingle+LeftSingle">
     (G:Var1) 3 == if{ (L:GPS1 MAP Range, number) s0 }
     (G:Var1) 1 == if{ (L:GPS1 APP Range, number) s0 }
     (M:Event) 'RightSingle' scmp 0 ==  if{ l0 100 &gt;=  if{ l0 50 + 2650 min s1 }
                                            50  90 l0 rng if{ l0 10 + s1 }
                                            l0  50 &lt;   if{ l0  5 + s1 }
                                            l0   5 &lt;    if{ l0 1 + s1 } }

     (M:Event) 'LeftSingle' scmp 0 == if{ l0 100 &gt;  if{ l0 50 - 100 max s1 }
                                            60 100 l0 rng if{ l0 10 -  50 max s1 }
                                           l0 50 &lt;=    if{ l0  5 -   5 max s1 }
                                           l0 5 &lt;=     if{ l0  1 -   1 max s1 } }
     (G:Var1) 3 == if{ l1 (&gt;L:GPS1 MAP Range, number) }
     (G:Var1) 1 == if{ l1 (&gt;L:GPS1 APP Range, number) }
    </Click>
   </Area>

<!--  North Up -->

  <Area Left="312" Top="0" Width="35" Height="30">
  <Visible> (G:Var1) 3 == </Visible>
   <Tooltip>Orient Map North</Tooltip>
    <Cursor Type="Hand"/>
    <Click>
     (L:GPS1 North Up, bool) ! (&gt;L:GPS1 North Up, bool)    
    </Click>
   </Area>

<!--  Line Width Increase / Decrease -->

  <Area Left="351" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>L Click: Thinner; R Click Wider; Ctr Click default: Line Width</Tooltip>
    <Cursor Type="Hand"/>
    <Click  Kind="RightSingle+LeftSingle+MiddleSingle">
     (G:Var1) 3 == if{ (L:GPS1 Linewidth, number) s0 }
     (G:Var1) 1 == if{ (L:GPS1 APP Linewidth, number) s0 }

     (M:Event) 'RightSingle'  scmp 0 == if{ l0 1 + s0 }
     (M:Event) 'MiddleSingle' scmp 0 == if{ 2 s0 }
     (M:Event) 'LeftSingle'   scmp 0 == if{ l0 1 - 1 max s0 }
     (G:Var1) 3 == if{ l0 (&gt;L:GPS1 Linewidth, number) }
     (G:Var1) 1 == if{ l0 (&gt;L:GPS1 APP Linewidth, number) }
    </Click>
   </Area>

<!--  Move Map -->

  <Area Left="384" Top="0" Width="30" Height="30">
  <Visible> 0 s0 (G:Var1) 3 == if{ 1 s0 }
                 (G:Var1) 1 == if{ (L:GPS1 APP Selected, bool)
                               if{ 1 s0 } } l0</Visible>
   <Tooltip>Move Map: L Clk: Left; R Clk: Right; Wheel: Up/Down</Tooltip>
    <Cursor Type="Hand" Repeat="Yes"/>
    <Click Kind="LeftSingle+RightSingle+MiddleSingle+WheelUp+WheelDown">
     (G:Var1) 3 == if{ (L:GPS1 CentreX, number) s0
                       (L:GPS1 CentreY, number) s1
                        360 s2 460 s3 }
     (G:Var1) 1 == if{ (L:GPS1 APP CentreX, number) s0
                       (L:GPS1 APP CentreY, number) s1
                        172 s2 190 s3 }
     (M:Event) 'LeftSingle'   scmp 0 == if{ l0 50 + s0 }
     (M:Event) 'RightSingle'  scmp 0 == if{ l0 50 - s0 }
     (M:Event) 'MiddleSingle' scmp 0 == if{ l2 s0 l3 s1 }
     (M:Event) 'WheelUp'      scmp 0 == if{ l1 50 + s1 }
     (M:Event) 'WheelDown'    scmp 0 == if{ l1 50 - s1 }

     (G:Var1) 3 == if{ l0 (&gt;L:GPS1 CentreX, number)
                       l1 (&gt;L:GPS1 CentreY, number) }
     (G:Var1) 1 == if{ l0 (&gt;L:GPS1 APP CentreX, number)
                       l1 (&gt;L:GPS1 APP CentreY, number) }
    </Click>
   </Area>

</Area>

</Mouse>

<Keys>
  <On Key="AlphaNumeric">
    <Visible>(L:GPS1 Enter Direct To ICAO, bool)</Visible>
    (L:GPS1 ICAO Cursor, number) 0 == if{ 'AVNW' (&gt;C:fs9gps:IcaoSearchStartCursor, string}
    (M:Key) chr (&gt;C:fs9gps:IcaoSearchEnterChar)
    (L:GPS1 ICAO Cursor, number) ++ (&gt;L:GPS1 ICAO Cursor, number)
  </On>

  <On Key="AlphaNumeric">
    <Visible>(L:GPS1 Enter Direct To Name, bool)</Visible>
    (L:GPS1 Name Cursor, number) 0 == if{ 'A    ' (&gt;C:fs9gps:IcaoSearchStartCursor, string) }
    (M:Key) chr (&gt;C:fs9gps:NameSearchEnterChar)
    (L:GPS1 Name Cursor, number) ++ (&gt;L:GPS1 Name Cursor, number)
  </On>

  <On Key="Backspace">
   <Visible>(L:GPS1 Enter Direct To ICAO, bool)</Visible>
   -1 (&gt;C:fs9gps:IcaoSearchBackupChar)
   (L:GPS1 ICAO Cursor, number) -- 0 max (&gt;L:GPS1 ICAO Cursor, number)
  </On>

  <On Key="Backspace">
   <Visible>(L:GPS1 Enter Direct To Name, bool)</Visible>
     -1 (&gt;C:fs9gps:NameSearchBackupChar)
     (L:GPS1 Name Cursor, number) -- 0 max (&gt;L:GPS1 Name Cursor, number)
  </On>

  <On Key="Tab">
    <Visible>(L:GPS1 Direct To Search, bool) (L:GPS1 Nearest Selected, number) 0 == &amp;&amp;</Visible>
     (L:GPS1 Enter Direct To ICAO, bool) ! (&gt;L:GPS1 Enter Direct To ICAO, bool)
     (L:GPS1 Enter Direct To Name, bool) ! (&gt;L:GPS1 Enter Direct To Name, bool)
  </On>

  <On Key="Tab">
    <Visible>(G:Var1) 1 == (L:GPS1 APP Selected, bool) &amp;&amp; (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) 8 &gt; &amp;&amp; </Visible>
      (L:GPS1 Transition Start Index, number) ++ (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) min (&gt;L:GPS1 Transition Start Index, number)
  </On>

  <On Key="Backspace">
    <Visible>(G:Var1) 1 == (L:GPS1 APP Selected, bool) &amp;&amp; (C:fs9gps:WaypointAirportApproachTransitionsNumber, number) 8 &gt; &amp;&amp; </Visible>
      (L:GPS1 Transition Start Index, number) -- 0 max (&gt;L:GPS1 Transition Start Index, number)
  </On>

</Keys>

</Gauge>
